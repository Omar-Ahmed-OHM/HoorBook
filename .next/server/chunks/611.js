"use strict";exports.id=611,exports.ids=[611],exports.modules={43286:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(41680).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},44269:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(41680).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},35102:(e,a,t)=>{t.d(a,{A:()=>y});var r=t(45512),l=t(58009),s=t(51915),n=t(36752),o=t.n(n);t(90895);var d=t(87798),i=t(75357),c=t(52858),m=t(48857),x=t(85668),h=t(22403),u=t(25321),b=t(44269),g=t(26292);let p=`${u.B}api`,y=e=>{let{open:a,address:t,onClose:n,onSave:y}=e,[v,f]=(0,l.useState)({show:!1,message:""}),[j,N]=(0,l.useState)([]),[w,k]=(0,l.useState)([]),[A,I]=(0,l.useState)([]),[_,S]=(0,l.useState)({name:"",phone:"",governorateId:"",cityId:"",areaId:"",details:"",governorate:"",city:"",area:""});(0,l.useEffect)(()=>{x.A.get(`${p}/governorates`).then(e=>N(e.data.data)).catch(()=>{f({show:!0,message:"فشل تحميل المحافظات"})})},[]),(0,l.useEffect)(()=>{if(!_.governorate)return;let e=j?.find(e=>e.name_ar===_.governorate)?.id;x.A.get(`${p}/cities?governorate_id=${e}`).then(e=>k(e.data.data)).catch(()=>{h.Ay.error("فشل تحميل المدن")})},[_.governorate]),(0,l.useEffect)(()=>{if(!_.city)return;let e=w?.find(e=>e.name_ar===_.city)?.id;x.A.get(`${p}/areas?city_id=${e}`).then(e=>I(e.data.data)).catch(()=>{h.Ay.error("فشل تحميل المناطق")})},[_.city]),(0,l.useEffect)(()=>{t&&S({name:t.full_name||"",phone:t.phone||"",governorateId:t.governorate?.id||"",cityId:t.city?.id||"",areaId:t.area?.id||"",details:t.address_details||"",governorate:t.governorate?.name||"",city:t.city?.name||"",area:t.area?.name||""})},[t]);let z=(e,a)=>{S(t=>({...t,[e]:a}))},C=async e=>{if(e.preventDefault(),!["name","phone","governorateId","cityId","areaId","details"].every(e=>_[e]))return f({show:!0,message:"يرجى ملء جميع الحقول المطلوبة"});try{let e=await x.A.put(`${p}/address/${t?.id}`,(0,g.n)(_),{headers:u.b});200===e.status?(h.Ay.success("تم تعديل العنوان بنجاح!"),n(),y&&y()):h.Ay.error("حدث خطأ أثناء حفظ العنوان")}catch{h.Ay.error("حدث خطأ أثناء حفظ العنوان")}};return a?(0,r.jsxs)("div",{className:"fixed inset-0 z-[1200] flex items-center justify-center bg-black bg-opacity-40 no_scrollbar",onClick:e=>{e.target===e.currentTarget&&n()},children:[(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-4 sm:p-8 w-full max-w-md sm:max-w-lg md:max-w-xl space-y-6 border border-purple-100 relative mx-2 sm:mx-auto overflow-y-auto max-h-[70vh] md:max-h-[80vh] mt-20",children:[(0,r.jsx)("button",{className:"absolute top-1 right-3 p-2 rounded-full text-gray-500 hover:text-red-600 transition ",onClick:n,title:"إغلاق",children:(0,r.jsx)(b.A,{size:20})}),(0,r.jsx)("h3",{className:"text-2xl font-bold mb-4 text-purple-800 text-center flex items-center gap-1",children:"تعديل العنوان"}),(0,r.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-bold mb-1 text-black",children:"الاسم كاملًا"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,r.jsx)("input",{type:"text",className:"outline-none w-full border rounded-md p-3 pr-12 text-right text-black placeholder:text-gray-400 bg-white border-gray-400 shadow-md",placeholder:"أدخل اسمك كاملًا",value:_.name,onChange:e=>z("name",e.target.value.replace(/[^a-zA-Z\u0600-\u06FF ]/g,""))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-bold mb-1 text-black",children:"رقم الهاتف"}),(0,r.jsx)("div",{className:"w-full border rounded-md p-3 flex items-center bg-white border-gray-400 shadow-md",dir:"rtl",children:(0,r.jsx)(o(),{countryCodeEditable:!1,country:"eg",value:_.phone,onChange:e=>z("phone",e),placeholder:"رقم الهاتف",enableSearch:!0,specialLabel:"",inputStyle:{direction:"ltr",textAlign:"left",color:"#000",background:"transparent",border:"none",outline:"none",padding:"0.5rem 1rem",paddingLeft:"2.5rem"},buttonStyle:{border:"none",background:"transparent"},containerStyle:{direction:"ltr",display:"flex",alignItems:"center",color:"#000"}})})]}),(0,r.jsxs)("div",{className:"text-black",children:[(0,r.jsx)("label",{className:"block font-bold mb-1",children:"المحافظة"}),(0,r.jsx)(s.A,{title:"المحافظة",placeholder:"اختر المحافظة",selectedValue:_.governorate,options:j?.map(e=>e.name_ar),onSelect:e=>{let a=j.find(a=>a.name_ar===e);z("governorate",e),z("governorateId",a?a.id:""),z("city",""),z("cityId",""),z("area",""),z("areaId","")},icon:(0,r.jsx)(i.A,{size:20})})]}),(0,r.jsxs)("div",{className:"text-black",children:[(0,r.jsx)("label",{className:"block font-bold mb-1",children:"المدينة"}),(0,r.jsx)(s.A,{title:"المدينة",placeholder:"اختر المدينة",selectedValue:_.city,options:w?.map(e=>e.name_ar),onSelect:e=>{if(!_.governorateId)return f({show:!0,message:"اختر المحافظة أولاً"});let a=w.find(a=>a.name_ar===e);z("city",e),z("cityId",a?a.id:""),z("area",""),z("areaId","")},icon:(0,r.jsx)(c.A,{size:20}),canOpen:!!_.governorateId,onBlockedOpen:()=>f({show:!0,message:"اختر المحافظة أولاً"})})]}),(0,r.jsxs)("div",{className:"text-black",children:[(0,r.jsx)("label",{className:"block font-bold mb-1",children:"المنطقة"}),(0,r.jsx)(s.A,{title:"المنطقة",placeholder:"اختر منطقتك او أقرب منطقة لك",selectedValue:_.area,options:A?.map(e=>e.name_ar),onSelect:e=>{if(!_.cityId)return f({show:!0,message:"اختر المدينة أولاً"});let a=A.find(a=>a.name_ar===e);z("area",e),z("areaId",a?a.id:"")},icon:(0,r.jsx)(m.A,{size:20}),canOpen:!!_.cityId,onBlockedOpen:()=>f({show:!0,message:"اختر المدينة أولاً"})})]}),(0,r.jsxs)("div",{className:"text-black",children:[(0,r.jsx)("label",{className:"block font-bold mb-1",children:"تفاصيل العنوان"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute right-3 top-3 text-gray-400",size:20}),(0,r.jsx)("textarea",{className:"w-full border rounded-md p-3 pr-12 text-right border-gray-400 shadow-md resize-none outline-none",placeholder:"ادخل تفاصيل العنوان ( الشارع رقم المنزل ) وعلامة محددة",value:_.details,onChange:e=>z("details",e.target.value)})]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-700 to-orange-400 text-white font-bold py-2 rounded-lg shadow-lg hover:scale-[1.02] transition-all duration-300 mt-2",children:"حفظ التعديلات"})]})]}),v.show&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 min-w-[300px] text-center",children:[(0,r.jsx)("div",{className:"mb-4 text-lg text-black",children:v.message}),(0,r.jsx)("button",{className:"text-purple-700 font-bold mt-2",onClick:()=>f({show:!1,message:""}),children:"تأكيد"})]})})]}):null}},51915:(e,a,t)=>{t.d(a,{A:()=>c});var r=t(45512),l=t(58009),s=t(23222),n=t(18346),o=t(44098),d=t(11302),i=t.n(d);function c({title:e,placeholder:a,selectedValue:t,options:d,onSelect:c,icon:m,canOpen:x=!0,onBlockedOpen:h}){let[u,b]=(0,l.useState)(!1),[g,p]=(0,l.useState)(""),[y,v]=(0,l.useState)(""),f=(0,l.useCallback)(i()(e=>v(e),300),[]),j=(0,l.useMemo)(()=>d?.filter(e=>e.toLowerCase().includes(y.toLowerCase())),[d,y]),N=()=>{b(!1),p(""),v("")},w=e=>{c(e),N()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"relative mb-3",children:(0,r.jsxs)("button",{type:"button",onClick:()=>{x?(b(!0),p(""),v("")):h&&h()},className:"w-full border border-gray-400 shadow-md rounded-md p-3 bg-white text-right flex gap-5 items-center",children:[m&&(0,r.jsx)("span",{className:"text-gray-400",children:m}),(0,r.jsx)("span",{className:`text-sm ${t?"":"text-gray-950"}`,children:t||a||`اختر ${e}`})]})}),(0,r.jsx)(s.e.Root,{show:u,as:l.Fragment,children:(0,r.jsxs)(n.lG,{as:"div",className:"relative z-[1300]",onClose:N,children:[(0,r.jsx)(s.e.Child,{as:l.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-black/30 z-[1300]"})}),(0,r.jsx)("div",{className:"fixed inset-x-0 bottom-0 lg:w-1/2 mx-auto z-[1300]",children:(0,r.jsx)(s.e.Child,{as:l.Fragment,enter:"transform transition ease-out duration-300",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"transform transition ease-in duration-200",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:(0,r.jsxs)(n.lG.Panel,{className:"bg-white rounded-t-2xl px-4 max-h-[70vh] overflow-y-auto relative z-[1400]",children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-white z-10 p-3 border-b border-gray-200",children:[(0,r.jsx)(n.lG.Title,{className:"text-center font-bold text-xl mb-3 text-black",children:e}),(0,r.jsxs)("div",{className:"relative mb-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"بحث",className:"w-full border border-black rounded-md p-2 pr-10 text-right outline-none text-gray-800",value:g,onChange:e=>{p(e.target.value),f(e.target.value)},"aria-label":"بحث"}),(0,r.jsx)(o.KSO,{className:"absolute right-3 top-3 text-gray-900"})]})]}),(0,r.jsxs)("ul",{className:"divide-y",children:[j?.map((e,a)=>r.jsx("li",{className:"py-3 px-2 text-right cursor-pointer hover:bg-gray-100 text-black",onClick:()=>w(e),tabIndex:0,role:"option","aria-selected":t===e,children:e},a)),j?.length===0&&(0,r.jsx)("li",{className:"text-center text-gray-900 py-4",children:"لا توجد نتائج"})]})]})})})]})})]})}},26292:(e,a,t)=>{t.d(a,{n:()=>r});function r(e){return{full_name:e.name,phone:e.phone,governorate_id:e.governorateId,city_id:e.cityId,area_id:e.areaId,address_details:e.details,latitude:"9.933468557950285",longitude:"31.8412072956562"}}}};