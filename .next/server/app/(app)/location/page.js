(()=>{var e={};e.id=823,e.ids=[823],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},99562:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=r(70260),s=r(28203),o=r(25155),n=r.n(o),l=r(67292),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["(app)",{children:["location",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3764)),"C:\\xampp\\htdocs\\Hoorbok-frontend\\HoorBook\\src\\app\\(app)\\location\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"C:\\xampp\\htdocs\\Hoorbok-frontend\\HoorBook\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\xampp\\htdocs\\Hoorbok-frontend\\HoorBook\\src\\app\\(app)\\location\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(app)/location/page",pathname:"/location",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},74863:(e,t,r)=>{Promise.resolve().then(r.bind(r,3764))},34695:(e,t,r)=>{Promise.resolve().then(r.bind(r,19817))},12214:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},19817:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var a=r(45512),s=r(58009),o=r(18616),n=r(12214),l=r(87798),i=r(75357),d=r(52858),c=r(48857);let p=(0,r(41680).A)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);var x=r(85668),u=r(36752),m=r.n(u);r(90895);var h=r(51915),b=r(25321),g=r(22403),v=r(26292),f=r(83454),y=r(34206),j=r(97282),k=r(79334);let N=`${b.B}api`,w=()=>{let[e,t]=(0,s.useState)({name:"",phone:"",governorateId:"",cityId:"",areaId:"",details:"",governorate:"",city:"",area:""}),[r,u]=(0,s.useState)([]),[w,A]=(0,s.useState)([]),[_,C]=(0,s.useState)([]),[I,z]=(0,s.useState)({show:!1,message:""}),[q,P]=(0,s.useState)(!1),S=(0,k.useRouter)(),M=(e,r)=>{t(t=>({...t,[e]:r}))};(0,s.useEffect)(()=>{x.A.get(`${N}/governorates`).then(e=>u(e.data.data)).catch(()=>{z({show:!0,message:"فشل تحميل المحافظات"})})},[]),(0,s.useEffect)(()=>{if(!e.governorate)return;let t=r.find(t=>t.name_ar===e.governorate)?.id;x.A.get(`${N}/cities?governorate_id=${t}`).then(e=>A(e.data.data)).catch(()=>{z({show:!0,message:"فشل تحميل المدن"})})},[e.governorate]),(0,s.useEffect)(()=>{if(!e.city)return;let t=w.find(t=>t.name_ar===e.city)?.id;x.A.get(`${N}/areas?city_id=${t}`).then(e=>C(e.data.data)).catch(()=>{z({show:!0,message:"فشل تحميل المناطق"})})},[e.city]);let H=async r=>{if(r.preventDefault(),!["name","phone","governorateId","cityId","areaId","details"].every(t=>e[t]))return z({show:!0,message:"يرجى ملء جميع الحقول المطلوبة"});try{P(!0);let r=await x.A.post(`${N}/address`,(0,v.n)(e),{headers:b.b});200===r.status?(g.Ay.success("تم حفظ العنوان بنجاح!"),S.push("/cart"),t({name:"",phone:"",governorateId:"",cityId:"",areaId:"",details:"",governorate:"",city:"",area:""})):g.Ay.error("حدث خطأ أثناء حفظ العنوان")}catch{g.Ay.error("حدث خطأ أثناء حفظ العنوان")}finally{P(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 to-orange-100 px-2 sm:px-4 py-6 sm:py-10",children:[(0,a.jsx)(f.A,{}),(0,a.jsx)("div",{className:"flex justify-center mt-10 md:mt-5 ",children:(0,a.jsx)(o.A,{children:(0,a.jsxs)("form",{className:"bg-white shadow-2xl rounded-3xl p-4 sm:p-6 md:p-8 w-full max-w-full space-y-6 border border-purple-100 mt-10 mx-auto",onSubmit:H,children:[(0,a.jsx)("div",{className:"flex flex-col items-center space-y-2",children:(0,a.jsxs)("h2",{className:"text-2xl font-bold text-purple-800 text-center flex items-center gap-1",children:[(0,a.jsx)(n.A,{className:"w-6 h-6 text-orange-400 animate-bounce"})," أضف عنوان جديد"]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-bold mb-1 text-black text-base",children:"الاسم كاملًا"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:22}),(0,a.jsx)("input",{type:"text",className:"outline-none w-full border rounded-md p-3 pr-12 text-right text-black text-base placeholder:text-gray-400 bg-white border-gray-400 shadow-md",placeholder:"أدخل اسمك كاملًا",value:e.name,onChange:e=>M("name",e.target.value)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-bold mb-1 text-black text-base",children:"رقم الهاتف"}),(0,a.jsx)("div",{className:"w-full border rounded-md p-3 flex items-center bg-white border-gray-400 shadow-md",dir:"rtl",children:(0,a.jsx)(m(),{countryCodeEditable:!1,country:"eg",value:e.phone,onChange:e=>{let t=e;t.startsWith("20")&&"0"===t[2]&&(t="20"+t.slice(3)),M("phone",t)},placeholder:"رقم الهاتف",enableSearch:!0,specialLabel:"",inputStyle:{direction:"ltr",textAlign:"left",color:"#000",background:"transparent",border:"none",outline:"none",padding:"0.5rem 1rem",paddingLeft:"2.5rem",fontSize:"16px"},buttonStyle:{border:"none",background:"transparent"},containerStyle:{direction:"ltr",display:"flex",alignItems:"center",color:"#000"}})})]}),(0,a.jsxs)("div",{className:"text-black",children:[(0,a.jsx)("label",{className:"block font-bold mb-1 text-base",children:"المحافظة"}),(0,a.jsx)(h.A,{title:"المحافظة",placeholder:"اختر المحافظة",selectedValue:e.governorate,options:r.map(e=>e.name_ar),onSelect:e=>{let t=r.find(t=>t.name_ar===e);M("governorate",e),M("governorateId",t?t.id:""),M("city",""),M("cityId",""),M("area",""),M("areaId","")},icon:(0,a.jsx)(i.A,{size:22})})]}),(0,a.jsxs)("div",{className:"text-black",children:[(0,a.jsx)("label",{className:"block font-bold mb-1 text-base",children:"المدينة"}),(0,a.jsx)(h.A,{title:"المدينة",placeholder:"اختر المدينة",selectedValue:e.city,options:w.map(e=>e.name_ar),onSelect:t=>{if(!e.governorateId)return z({show:!0,message:"اختر المحافظة أولاً"});let r=w.find(e=>e.name_ar===t);M("city",t),M("cityId",r?r.id:""),M("area",""),M("areaId","")},icon:(0,a.jsx)(d.A,{size:22}),canOpen:!!e.governorateId,onBlockedOpen:()=>z({show:!0,message:"اختر المحافظة أولاً"})})]}),(0,a.jsxs)("div",{className:"text-black",children:[(0,a.jsx)("label",{className:"block font-bold mb-1 text-base",children:"المنطقة"}),(0,a.jsx)(h.A,{title:"المنطقة",placeholder:"اختر منطقتك او أقرب منطقة لك",selectedValue:e.area,options:_.map(e=>e.name_ar),onSelect:t=>{if(!e.cityId)return z({show:!0,message:"اختر المدينة أولاً"});let r=_.find(e=>e.name_ar===t);M("area",t),M("areaId",r?r.id:"")},icon:(0,a.jsx)(c.A,{size:22}),canOpen:!!e.cityId,onBlockedOpen:()=>z({show:!0,message:"اختر المدينة أولاً"})})]}),(0,a.jsxs)("div",{className:"text-black",children:[(0,a.jsx)("label",{className:"block font-bold mb-1 text-base",children:"تفاصيل العنوان"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute right-3 top-3 text-gray-400",size:22}),(0,a.jsx)("textarea",{className:"w-full border rounded-md p-3 pr-12 text-right border-gray-400 shadow-md resize-none outline-none min-h-[100px] text-base",placeholder:"ادخل تفاصيل العنوان ( الشارع، رقم المنزل، علامة مميزة )",value:e.details,onChange:e=>M("details",e.target.value)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 border-t border-b border-gray-500 pt-4 py-4",children:[(0,a.jsx)(p,{className:"text-purple-600",size:24}),(0,a.jsx)("div",{className:"flex-1 text-right",children:(0,a.jsx)("span",{className:"font-bold text-purple-700 text-base",children:"الموقع"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)(g.Toaster,{})}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-700 to-orange-400 text-white font-bold py-3 text-lg rounded-lg shadow-lg hover:scale-[1.02] transition-all duration-300 mt-2",children:"حفظ"})]})})}),I.show&&(0,a.jsx)(y.A,{message:I.message,setClose:z}),q?(0,a.jsx)(j.A,{}):(0,a.jsx)(a.Fragment,{})]})}},51915:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(45512),s=r(58009),o=r(23222),n=r(18346),l=r(44098),i=r(11302),d=r.n(i);function c({title:e,placeholder:t,selectedValue:r,options:i,onSelect:c,icon:p,canOpen:x=!0,onBlockedOpen:u}){let[m,h]=(0,s.useState)(!1),[b,g]=(0,s.useState)(""),[v,f]=(0,s.useState)(""),y=(0,s.useCallback)(d()(e=>f(e),300),[]),j=(0,s.useMemo)(()=>i?.filter(e=>e.toLowerCase().includes(v.toLowerCase())),[i,v]),k=()=>{h(!1),g(""),f("")},N=e=>{c(e),k()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"relative mb-3",children:(0,a.jsxs)("button",{type:"button",onClick:()=>{x?(h(!0),g(""),f("")):u&&u()},className:"w-full border border-gray-400 shadow-md rounded-md p-3 bg-white text-right flex gap-5 items-center",children:[p&&(0,a.jsx)("span",{className:"text-gray-400",children:p}),(0,a.jsx)("span",{className:`text-sm ${r?"":"text-gray-950"}`,children:r||t||`اختر ${e}`})]})}),(0,a.jsx)(o.e.Root,{show:m,as:s.Fragment,children:(0,a.jsxs)(n.lG,{as:"div",className:"relative z-[1300]",onClose:k,children:[(0,a.jsx)(o.e.Child,{as:s.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black/30 z-[1300]"})}),(0,a.jsx)("div",{className:"fixed inset-x-0 bottom-0 lg:w-1/2 mx-auto z-[1300]",children:(0,a.jsx)(o.e.Child,{as:s.Fragment,enter:"transform transition ease-out duration-300",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"transform transition ease-in duration-200",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:(0,a.jsxs)(n.lG.Panel,{className:"bg-white rounded-t-2xl px-4 max-h-[70vh] overflow-y-auto relative z-[1400]",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white z-10 p-3 border-b border-gray-200",children:[(0,a.jsx)(n.lG.Title,{className:"text-center font-bold text-xl mb-3 text-black",children:e}),(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"بحث",className:"w-full border border-black rounded-md p-2 pr-10 text-right outline-none text-gray-800",value:b,onChange:e=>{g(e.target.value),y(e.target.value)},"aria-label":"بحث"}),(0,a.jsx)(l.KSO,{className:"absolute right-3 top-3 text-gray-900"})]})]}),(0,a.jsxs)("ul",{className:"divide-y",children:[j?.map((e,t)=>a.jsx("li",{className:"py-3 px-2 text-right cursor-pointer hover:bg-gray-100 text-black",onClick:()=>N(e),tabIndex:0,role:"option","aria-selected":r===e,children:e},t)),j?.length===0&&(0,a.jsx)("li",{className:"text-center text-gray-900 py-4",children:"لا توجد نتائج"})]})]})})})]})})]})}},26292:(e,t,r)=>{"use strict";function a(e){return{full_name:e.name,phone:e.phone,governorate_id:e.governorateId,city_id:e.cityId,area_id:e.areaId,address_details:e.details,latitude:"9.933468557950285",longitude:"31.8412072956562"}}r.d(t,{n:()=>a})},3764:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\xampp\\\\htdocs\\\\Hoorbok-frontend\\\\HoorBook\\\\src\\\\app\\\\(app)\\\\location\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\xampp\\htdocs\\Hoorbok-frontend\\HoorBook\\src\\app\\(app)\\location\\page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[10,600,455,860,789,899],()=>r(99562));module.exports=a})();