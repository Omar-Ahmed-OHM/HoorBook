(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2374],{1988:(e,t,a)=>{Promise.resolve().then(a.bind(a,4642))},4642:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var s=a(5155),r=a(2115),l=a(2651),d=a(9519),o=a(5565),i=a(872),n=a(5686),c=a(7351),x=a(8068),m=a(9678),u=a(5037),h=a(9643),A=a(9208),p=a(8473),b=a(7594),g=a(767),f=a(7223),j=a(3473),y=a(5620),v=a(6336),N=a(8173),w=a.n(N);let k={src:"/_next/static/media/cash.c244d5fe.png",height:225,width:225,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAPFBMVEX////6zsFYrdz5u0f6tTH/0cX+xbj+3db99OL/+vn83qf6xmHx+vw7otT85Ln3wLXZ7ffV7PVArOH41c/Y+MP5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPUlEQVR4nCXLSQ6AMAzAQKdNs3ShwP8fi1Av1lwMQMRf6FqPhmqHObnqiGQVd3FvrLLNrCVvkSae8Nxn/QApiQFHG8AH6gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};var _=a(3580),C=a(9088),D=a(6046);let S=e=>{var t,a,d;let{show:i,id:n,code:x,items:m,oncheckout:h,close:A,discount:p}=e,b=(0,D.useRouter)(),[N,S]=(0,r.useState)([]),[B,E]=(0,r.useState)("cash"),[F,z]=(0,r.useState)("0"),[M,Q]=(0,r.useState)(!1),[X,P]=(0,r.useState)(!1),[L,I]=(0,r.useState)(null),[Z,q]=(0,r.useState)(!0),[H,R]=(0,r.useState)(),[U,O]=(0,r.useState)(0),[V,W]=(0,r.useState)({user_address_id:0,payment_type:"1",notes:"حور بوك ويب سايت",code:x,use_points:"0"}),[Y,G]=(0,r.useState)(!1),T="".concat(c.B,"api/orders");c.B;let K="".concat(c.B,"api/user/profile");(0,r.useEffect)(()=>{let e=async()=>{try{var e,t;let a=await l.A.get("".concat(c.B,"api/address"),{headers:c.b});Array.isArray(null===(t=a.data)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.data)?S(a.data.data.data):console.error("العناوين غير متوفرة بشكل صحيح")}catch(e){console.error("فشل تحميل العناوين:",e)}};(async()=>{try{let e=await l.A.get(K,{headers:c.b});console.log(e.data.data.name),R(e.data.data)}catch(e){console.log(e),u.Ay.error("خطأ فى جلب المعلومات الخاصه بك")}})(),e()},[]),(0,r.useEffect)(()=>(document.body.style.overflow=i?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[i]);let J=()=>{Y?($("use_points","0"),G(!1)):(G(!0),$("use_points","1"))},$=(e,t)=>{W(a=>({...a,[e]:t}))},ee=e=>{O(e)},et=async()=>{let e=null!=x?x:"",t={...V,code:e};try{var a,s,r;let e=await l.A.post(T,t,{headers:c.b});(null===(a=e.data)||void 0===a?void 0:a.status.status)===!0?(u.Ay.success("تم إنشاء الطلب بنجاح"),b.push("/orders"),(null===(r=e.data)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.order_number)&&(0,u.Ay)("\uD83D\uDCE6 رقم الطلب: ".concat(e.data.data.order_number),{icon:"\uD83E\uDDFE"}),A()):(u.Ay.error("❌ فشل إنشاء الطلب، تأكد من البيانات"),console.log("\uD83D\uDEA8 الرد من السيرفر:",e.data))}catch(e){u.Ay.error("⚠️ حدث خطأ أثناء إرسال الطلب"),console.error("\uD83D\uDED1 Error in order request:",e)}console.log("\uD83D\uDCE6 الطلب المرسل:",t)},ea=async()=>{try{var e,t;let a=await l.A.get("".concat(c.B,"api/address"),{headers:c.b});Array.isArray(null===(t=a.data)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.data)&&S(a.data.data.data)}catch(e){console.error("فشل تحديث العناوين:",e),u.Ay.error("خطأ في تحديث العنوان")}P(!1)};return i?(0,s.jsxs)("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/40 backdrop-blur-sm px-4 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"bg-white w-full max-w-xl rounded-2xl shadow-2xl p-4 space-y-4 animate-fadeIn relative z-[1000] max-h-screen overflow-y-auto",children:[(0,s.jsx)("button",{className:"absolute top-3 left-3 text-xl text-gray-500 hover:text-red-500",onClick:A,children:(0,s.jsx)(g.A,{})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-center text-gray-800 mb-2",children:"\uD83E\uDDFE تفاصيل الدفع"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-right font-semibold text-gray-700",children:"\uD83D\uDCCD اختر العنوان:"}),(0,s.jsx)("div",{className:"flex gap-4 overflow-x-auto whitespace-nowrap py-4",children:N.map(e=>(0,s.jsxs)("div",{onClick:()=>{$("user_address_id",e.id),ee(e.area.final_cost),Q(!0)},className:"p-3 min-w-[250px] whitespace-normal break-words rounded-xl relative cursor-pointer border-2 transition hover:shadow-md text-right ".concat(V.user_address_id===e.id?"border-purple-700 bg-purple-50":"border-gray-200 bg-gray-50"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center gap-3",children:[(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"checkbox",checked:V.user_address_id===e.id,readOnly:!0,className:"w-5 h-5 accent-purple-700 cursor-pointer"})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"p-2 rounded-full hover:bg-purple-200 transition",title:"تعديل",onClick:t=>{t.stopPropagation(),I(e),P(!0)},children:(0,s.jsx)(_.A,{className:"text-gray-700 hover:text-purple-700 transition",size:20})})})]}),(0,s.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,s.jsxs)("span",{className:"font-bold text-gray-800 flex items-center gap-1",children:[(0,s.jsx)(f.A,{size:16}),e.full_name]})}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.address_details,", ",e.area.name,", ",e.city.name]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["تكلفة التوصيل: ",e.area.final_cost," ج.م"]})]},e.id))}),(0,s.jsxs)(w(),{href:"/location",className:"mt-2 flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200",children:[(0,s.jsx)(j.A,{size:16}),"إضافة عنوان جديد"]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"\uD83D\uDCB3 طريقة الدفع:"}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("button",{onClick:()=>{$("payment_type","1")},className:"flex items-center gap-3 px-4 py-2 border rounded-lg transition ".concat("cash"===B?"bg-gradient-to-r from-purple-700 to-orange-400 text-white border-none":"bg-gray-100 border-gray-300 text-gray-700"),children:[(0,s.jsx)(y.A,{size:18}),(0,s.jsx)("span",{children:"الدفع عند الاستلام"}),(0,s.jsx)(o.default,{src:k,alt:"Cash",width:24,height:24,className:"rounded",unoptimized:!0})]})})]}),(0,s.jsxs)("div",{className:"points w-full p-3 flex gap-5 bg-gradient-to-r from-purple-700 to-orange-400 text-white font-semibold py-2 rounded-lg shadow-md hover:opacity-90 transition",children:[(0,s.jsxs)("span",{children:["نقاطك : ",null==H?void 0:H.points]}),(0,s.jsxs)("span",{children:[" رصيد النقاط : ",((null!==(a=null==H?void 0:H.points)&&void 0!==a?a:0)*Number(null!==(d=null==H?void 0:null===(t=H.pointsSettings)||void 0===t?void 0:t.point_price)&&void 0!==d?d:0)).toFixed(2)," ج.م"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-right",children:[(0,s.jsx)("input",{id:"usePoints",type:"checkbox",onClick:()=>{J()},className:"w-5 h-5 accent-purple-700 cursor-pointer"}),(0,s.jsx)("label",{htmlFor:"usePoints",className:"text-gray-700 font-medium",children:"استخدام النقاط المتاحة للحصول على خصم"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1  sm:grid-cols-3 md:grid-cols-1 gap-4 mb-8 text-center text-sm sm:text-base",children:[(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-md rounded-xl shadow-lg p-4 border border-gray-200",children:[(0,s.jsx)("p",{className:"text-gray-700 font-semibold mb-1",children:"\uD83D\uDCB0 المجموع الفرعى"}),(0,s.jsxs)("p",{className:"text-green-700 text-lg font-bold",children:[null==m?void 0:m.total," ج.م"]})]}),(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-md rounded-xl shadow-lg p-4 border border-gray-200",children:[(0,s.jsx)("p",{className:"text-gray-700 font-semibold mb-1",children:"\uD83D\uDE9A رسوم التوصيل"}),(0,s.jsxs)("p",{className:"text-orange-600 text-lg font-bold",children:[null!=U?U:0,"  ج.م"]})]}),(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-md rounded-xl shadow-lg p-4 border border-gray-200",children:[(0,s.jsx)("p",{className:"text-gray-700 font-semibold mb-1",children:" الخصم"}),(0,s.jsx)("p",{className:"text-purple-700 text-lg font-bold",children:(null==p?void 0:p.type)==="percentage"?"".concat(null==p?void 0:p.value," %"):"".concat(null==p?void 0:p.value," ج.م")})]}),(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-md rounded-xl shadow-lg p-4 border border-gray-200",children:[(0,s.jsx)("p",{className:"text-gray-700 font-semibold mb-1",children:"الاجمالى"}),(0,s.jsxs)("p",{className:"text-orange-600 text-lg font-bold",children:[Number((null==m?void 0:m.total)||0)+Number(U||0)," ج.م"]})]})]}),x&&(0,s.jsxs)("div",{className:"text-right text-green-700 font-medium",children:["\uD83C\uDF81 كود الخصم المفعّل:"," ",(0,s.jsx)("span",{className:"underline",children:x})]}),(0,s.jsxs)("div",{className:"notes",children:[(0,s.jsx)("label",{className:"font-semibold text-gray-700 mb-1",children:"ملاحظات"}),(0,s.jsx)("textarea",{id:"notes",className:"w-full h-20 p-2 text-gray-700 border rounded-md focus:   border-purple-700",onChange:e=>{$("notes","".concat(e.target.value," حور بوك للويب سايت "))}})]}),!0===M?(0,s.jsx)("div",{className:"pt-3",children:(0,s.jsxs)("button",{onClick:et,className:"bg-gradient-to-r from-purple-700 to-orange-400 hover:opacity-90 text-white px-4 py-2 rounded-full flex items-center justify-center gap-2 w-full font-semibold shadow-md text-sm transition",children:[(0,s.jsx)(v.A,{size:18}),"تأكيد الطلب"]})}):(0,s.jsx)("div",{className:"pt-3",children:(0,s.jsxs)("button",{disabled:!0,className:"bg-gray-300 hover:opacity-90 text-white px-4 py-2 rounded-full flex items-center justify-center gap-2 w-full font-semibold shadow-md text-sm transition",children:[(0,s.jsx)(v.A,{size:18}),"تأكيد الطلب"]})})]}),(0,s.jsx)(C.A,{open:X,address:L,onClose:()=>P(!1),onSave:ea})]}):null},B={src:"/_next/static/media/cart_empty.ab4d44f1.avif",height:626,width:626,blurDataURL:"data:image/avif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAOptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAImlsb2MAAAAAREAAAQABAAAAAAEOAAEAAAAAAAAALgAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAamlwcnAAAABLaXBjbwAAABNjb2xybmNseAABAA0ABoAAAAAMYXYxQ4EgAgAAAAAUaXNwZQAAAAAAAAAIAAAACAAAABBwaXhpAAAAAAMICAgAAAAXaXBtYQAAAAAAAAABAAEEAYIDBAAAADZtZGF0EgAKCDgIv2EBDQaQMiAYAAooooQAPPn+lB8ZVQnIHT9tihVlwNkUpbrx1gnjgA==",blurWidth:8,blurHeight:8},E=e=>{let{item:t,onClose:a,disabled:l,onSave:d}=e,[i,n]=(0,r.useState)(t.qty);return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6 relative animate-fadeIn",children:[(0,s.jsx)("button",{onClick:a,className:"absolute top-3 right-3 text-gray-500 hover:text-red-500 text-2xl","aria-label":"إغلاق",children:"\xd7"}),(0,s.jsx)("div",{className:"w-32 h-32 relative mx-auto mb-4 rounded-xl overflow-hidden shadow-md",children:(0,s.jsx)(o.default,{src:"".concat(c.B).concat(t.product.image),alt:t.product.name,layout:"fill",objectFit:"cover",unoptimized:!0})}),(0,s.jsx)("h2",{className:"text-center font-bold text-xl text-gray-800 mb-1",children:t.product.name}),(0,s.jsxs)("p",{className:"text-center text-green-700 font-semibold text-sm mb-4",children:["السعر بعد الخصم: ",t.price_after_discount," ج.م ",(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:t.price_before_discount})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اختر الكمية:"}),(0,s.jsx)("select",{value:i,onChange:e=>n(Number(e.target.value)),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[...Array(t.product.stock)].map((e,t)=>(0,s.jsx)("option",{value:t+1,children:t+1},t+1))})]}),(0,s.jsx)("button",{onClick:()=>d(i),className:"w-full mt-2 bg-gradient-to-r from-purple-700 to-orange-400 text-white font-semibold py-2 rounded-lg shadow-md hover:opacity-90 transition",children:l?"جارٍ الحفظ...":"حفظ التعديل"})]})})};function F(){let[e,t]=(0,r.useState)(!1),a=A.A.get("access_token_login"),[g,f]=(0,r.useState)(!0),[j,y]=(0,r.useState)([]),[v,N]=(0,r.useState)(1),[k,_]=(0,r.useState)(!0),[C,D]=(0,r.useState)(null),{refreshCartCount:F}=(0,h.x)(),[z,M]=(0,r.useState)(null),[Q,X]=(0,r.useState)({}),[P,L]=(0,r.useState)(!1),[I,Z]=(0,r.useState)(!1),[q,H]=(0,r.useState)(""),[R,U]=(0,r.useState)(!1),[O,V]=(0,r.useState)({type:"",value:0}),W="".concat(c.B,"api/check-valid-copoun"),Y=async e=>{try{if(a){f(!1);let t=await l.A.get("".concat(c.B,"api/carts?page=").concat(e),{headers:c.b}),a=t.data.data.data.data,s=t.data.data.info,r=t.data.data.data.meta.current_page,d=t.data.data.data.meta.last_page;M(s),H(s.total),y(e=>{let t=new Set(e.map(e=>e.id)),s=a.filter(e=>!t.has(e.id));return[...e,...s]}),_(r<d)}else f(!0)}catch(e){console.error("حدث خطأ أثناء تحميل البيانات:",e)}};(0,r.useEffect)(()=>{a?(f(!1),Y(1)):f(!0)},[a]);let G=async e=>{try{await l.A.delete("".concat(c.B,"api/carts/").concat(e),{headers:c.b}),y(t=>t.filter(t=>t.id!==e)),F(),u.Ay.success("\uD83D\uDDD1️ تم حذف المنتج بنجاح"),await h.x.getState().refreshCartCount(),Y(1)}catch(e){console.error("فشل حذف العنصر:",e),u.Ay.error("حدث خطأ أثناء حذف المنتج")}},T=e=>{let t=j.find(t=>t.id===e);t&&D(t)},K=async e=>{if(C)try{t(!0),await l.A.put("".concat(c.B,"api/carts/").concat(C.id),{qty:e},{headers:c.b}),u.Ay.success("\uD83C\uDF89 تم تعديل المنتج بنجاح"),y([]),N(1),D(null),Y(1),F()}catch(e){u.Ay.error("❌ حدث خطأ أثناء التعديل")}finally{t(!1)}},J=async e=>{e.preventDefault();try{let e=await l.A.post(W,Q,{headers:c.b}),t=e.data.status;if(!1===t.status){u.Ay.error("❌ خطأ في الكود"),Z(!1);return}u.Ay.success("✅ تم تفعيل الكود بنجاح"),Z(!0);let a=e.data;if(!a){u.Ay.error("حدث خطأ في قراءة بيانات الخصم");return}let s=Number(z.total);"percentage"===a.data.type?(s-=s*(a.data.value/100),V(e=>({...e,type:"percentage"})),V(e=>({...e,value:a.data.value}))):(s-=a.data.value,console.log(s),V(e=>({...e,type:"fixed"})),V(e=>({...e,value:a.data.value}))),s=Math.max(0,s),M(e=>({...e,total:String(s.toFixed(2))}))}catch(e){console.error(e),u.Ay.error(" حدث خطأ أثناء التفعيل")}};return(0,r.useEffect)(()=>{if(q)U(!1);else{let e=setTimeout(()=>{U(!0)},5e3);return()=>clearTimeout(e)}},[z]),(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-pink-100 to-yellow-100",children:[(0,s.jsx)(m.A,{}),(0,s.jsxs)(x.A,{children:[(0,s.jsxs)(d.A,{dataLength:j.length,next:()=>{let e=v+1;N(e),Y(e)},hasMore:k,loader:(0,s.jsx)("p",{className:"text-center text-gray-600 mt-4 animate-pulse",children:"جارٍ التحميل..."}),endMessage:(0,s.jsx)(s.Fragment,{}),children:[(0,s.jsx)("div",{className:"text-center font-bold text-gray-800 text-3xl mt-24 mb-6",children:"\uD83D\uDED2 سلة المشتريات"}),q&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8 text-center text-sm sm:text-base",children:[(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-md rounded-xl shadow-lg p-4 border border-gray-200",children:[(0,s.jsx)("p",{className:"text-gray-700 font-semibold mb-1",children:"\uD83D\uDCB0 المجموع الفرعى"}),(0,s.jsxs)("p",{className:"text-green-700 text-lg font-bold",children:[q," ج.م"]})]}),(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-md rounded-xl shadow-lg p-4 border border-gray-200",children:[(0,s.jsx)("p",{className:"text-gray-700 font-semibold mb-1",children:"الخصم"}),(0,s.jsx)("p",{className:"text-gray-700 text-lg font-bold",children:"percentage"===O.type?"".concat(O.value," %"):"".concat(O.value," ج.م")})]}),(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-md rounded-xl shadow-lg p-4 border border-gray-200",children:[(0,s.jsx)("p",{className:"text-gray-700 font-semibold mb-1",children:"قيمه الخصم"}),(0,s.jsxs)("p",{className:"text-orange-600 text-lg font-bold",children:[Math.abs(Number(z.total)-Number(q)).toFixed(2),"ج.م"]})]}),(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-md rounded-xl shadow-lg p-4 border border-gray-200",children:[(0,s.jsx)("p",{className:"text-gray-700 font-semibold mb-1",children:"الاجمالى"}),(0,s.jsxs)("p",{className:"text-orange-600 text-lg font-bold",children:[z.total,"ج.م"]})]})]}),(0,s.jsx)("div",{className:"code mb-7",children:(0,s.jsx)("form",{onSubmit:J,children:(0,s.jsxs)("div",{className:"flex justify-start items-center gap-3 max-w-[850px] bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow border border-gray-200",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(b.A,{fields:[{label:"كود الخصم ",name:"code",type:"text",requierd:!1,placeholder:"ادخل كود الخصم"}],data:Q,onChange:X})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:I,className:"mt-12 px-3 py-3 w-40 rounded-2xl font-semibold shadow    text-white bg-gradient-to-r from-purple-700 to-orange-400    hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"تفعيل"})})]})})}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 pb-10",children:j.map(e=>{var t;return(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 border border-gray-200 p-5 rounded-3xl shadow-xl bg-white/50 backdrop-blur-md transition-all duration-300",children:[(0,s.jsx)(w(),{href:"/details/".concat(e.product_id),className:"w-28 h-28 relative rounded-2xl overflow-hidden border-2 border-white shadow-md shrink-0",children:(0,s.jsx)(o.default,{src:"".concat(c.B).concat(e.product.image),alt:e.product.name,layout:"fill",objectFit:"cover",unoptimized:!0})}),(0,s.jsxs)(w(),{href:"/details/".concat(e.product_id),className:"flex-1 text-center sm:text-right",children:[(0,s.jsx)("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:e.product.name}),"Piece"===e.product_type?(0,s.jsxs)("p",{className:"text-sm text-gray-700 mb-1",children:["الكمية: ",e.qty,"  قطعه"]}):(0,s.jsxs)("p",{className:"text-sm text-gray-700 mb-1",children:["الكمية: ",e.qty," دسته"]}),(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("p",{className:"text-sm text-green-700 font-semibold",children:["السعر : ",e.price_after_discount,"  ج.م"]}),null!=e.price_before_discount?(0,s.jsxs)("p",{className:"text-gray-400 text-sm line-through mr-4",children:[" ",e.price_before_discount," ج .م"]}):""]}),(0,s.jsx)("div",{className:"flex items-center justify-center gap-2",children:null!=e.color.code?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-gray-500",children:" اللون:"}),(0,s.jsx)("span",{className:"w-4 h-4 rounded border",style:{backgroundColor:null===(t=e.color)||void 0===t?void 0:t.code}})]}):""})]}),(0,s.jsxs)("div",{className:"flex flex-row sm:flex-col items-center justify-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>T(e.id),className:"p-2 rounded-full bg-blue-200 hover:bg-blue-300 text-blue-700 shadow transition",title:"تعديل",children:(0,s.jsx)(i.A,{size:18})}),(0,s.jsx)("button",{onClick:()=>G(e.id),className:"p-2 rounded-full bg-red-200 hover:bg-red-300 text-red-700 shadow transition",title:"حذف",children:(0,s.jsx)(n.A,{size:18})})]})]},e.id)})}),(0,s.jsx)("div",{className:"sale",children:(0,s.jsx)("button",{type:"submit",onClick:()=>{L(!0)},className:"p-4  w-full bg-gradient-to-r from-purple-700 to-orange-400 text-white font-semibold rounded-lg shadow hover:opacity-90 transition",children:"اتمام الشراء"})})]}),!q&&(0,s.jsx)("div",{className:"flex flex-col justify-center items-center py-12",children:R?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 p-6 bg-gradient-to-b from-white to-purple-50 rounded-2xl shadow-md animate-fadeIn",children:[(0,s.jsx)("div",{className:"w-72 h-72 relative",children:(0,s.jsx)(o.default,{src:B,alt:"Empty Cart",fill:!0,className:"object-contain ",priority:!0})}),(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsxs)("p",{className:"text-purple-700 font-bold text-2xl sm:text-3xl leading-relaxed",children:["ماذا تنتظر؟ ",(0,s.jsx)("span",{className:"text-orange-500",children:"قم بالشراء الآن"})]}),(0,s.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"اكتشف أفضل العروض والمنتجات المميزة بلمسة واحدة فقط ✨"})]}),(0,s.jsx)(w(),{href:"/",className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-full shadow-lg transition-transform hover:scale-105",children:"تسوق الآن"})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("p",{className:"text-gray-500",children:"جاري تحميل السلة..."})]})})]}),(0,s.jsx)(S,{show:P,id:1,code:I?Q.code:void 0,items:z,discount:O,oncheckout:()=>{console.log("\uD83D\uDE80 بيانات الطلب:")},close:()=>L(!1)})]}),C&&(0,s.jsx)(E,{item:C,disabled:e,onClose:()=>D(null),onSave:K}),(0,s.jsx)(p.M,{show:g})]})}},8473:(e,t,a)=>{"use strict";a.d(t,{M:()=>o});var s=a(5155),r=a(1594),l=a(8173),d=a.n(l);let o=e=>{let{show:t}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-indigo-100 via-pink-100 to-yellow-100 p-6 rounded-2xl shadow-xl max-w-sm w-full  text-center space-y-4",children:[(0,s.jsx)(r.A,{className:"text-red-500 w-12 h-12 mx-auto"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"رجاء تسجيل الدخول"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"لا يمكنك الوصول إلى هذه العمليه بدون تسجيل الدخول."}),(0,s.jsx)(d(),{href:"/login",className:"inline-block mt-4 bg-btn-color text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition",children:"تسجيل الدخول الآن"})]})}):null}}},e=>{var t=t=>e(e.s=t);e.O(0,[7540,6711,5037,7442,401,772,7301,9088,8441,1517,7358],()=>t(1988)),_N_E=e.O()}]);