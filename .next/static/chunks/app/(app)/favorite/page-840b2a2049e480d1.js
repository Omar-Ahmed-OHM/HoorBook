(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6028],{6762:(e,t,s)=>{Promise.resolve().then(s.bind(s,9977))},1594:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(7401).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},591:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(7401).A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},865:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(7401).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},9977:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var l=s(5155),r=s(7351),a=s(8068),n=s(2115),i=s(2651),c=s(9570),o=s(9678),d=s(7194),x=s(5037),h=s(9208),f=s(8473);function u(){let[e,t]=(0,n.useState)([]),[s,u]=(0,n.useState)(1),[m,p]=(0,n.useState)(!0),[g,j]=(0,n.useState)([]),v=(0,n.useRef)(null),[A,w]=(0,n.useState)(!1),b=h.A.get("access_token_login"),y="".concat(r.B,"api/products/favourite"),N=async()=>{try{if(b){var e;w(!1);let l="".concat(r.B,"api/products?page=").concat(s,"&favourite=1"),a=await i.A.get(l,{headers:r.b});t(e=>{var t;let s=new Set(e.map(e=>e.id)),l=(null===(t=a.data.data.data)||void 0===t?void 0:t.filter(e=>!s.has(e.id)))||[];return[...e,...l]}),p(!!(null===(e=a.data.data.links)||void 0===e?void 0:e.next)),u(e=>e+1)}else w(!0)}catch(e){console.error("Error fetching favorites:",e)}};(0,n.useEffect)(()=>{N()},[]),(0,n.useEffect)(()=>{if(!v.current||!m)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&N()});return e.observe(v.current),()=>{e.disconnect()}},[v.current,m]);let k=async e=>{try{let s=await (0,d.z)("post",y,{product_id:e},r.b);console.log(s.message),x.Ay.success("تم ازاله منتج من المفضله "),j(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),t(t=>t.filter(t=>t.id!==e))}catch(e){console.log(e),x.Ay.error("خطأ فى ازاله المنتج")}};return(0,l.jsxs)("section",{children:[(0,l.jsx)("div",{className:"pb-12 md:pb-4",children:(0,l.jsx)(o.A,{})}),(0,l.jsxs)(a.A,{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4 ",children:"المفضلة"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4",children:[e.map((e,t)=>(0,l.jsx)(c.Z,{...e,handellove:()=>k(e.id),love:!0,offer:e.offer},"".concat(e.id,"-").concat(t))),(0,l.jsx)(f.M,{show:A})]}),m&&(0,l.jsx)("div",{ref:v,className:"h-10"})]})]})}},7351:(e,t,s)=>{"use strict";s.d(t,{B:()=>r,b:()=>n});var l=s(9208);let r="https://hoorbookapp.com/",a=l.A.get("access_token_login"),n={Authorization:"Bearer ".concat(a),userType:"2",fcmToken:"fGS7RgUcR66lms505IQllc:APA91bF-AdXcn94TKHQ2eKEqTX22eQTxr6LRSwpHyzwWXjvwBFfLQ_yYWO0ZNfd9ScbxHjKBZaGLosJK2G1wfrKp6G4h3FeDfdNovPZD3PX8iV-ckfYf3ig",lang:"ar","Content-Type":"application/json"}},8068:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var l=s(5155);let r=e=>{let{children:t}=e;return(0,l.jsx)("div",{className:"ml-3 mr-3 mt-5   'lg:ml-[95px]' : 'lg:ml-[270px]'} text-white ",children:t})}},9570:(e,t,s)=>{"use strict";s.d(t,{Z:()=>f});var l=s(5155),r=s(2115),a=s(5565),n=s(865),i=s(591),c=s(8068),o=s(7351),d=s(3727),x=s(8173),h=s.n(x);let f=e=>{let{id:t,name:s,description:x,image:f,category:u,price:m,discount:p,originalPrice:g,stock:j,soldOut:v=!1,love:A=!1,handellove:w=()=>{},packet_pieces:b,packet_price:y,piece_price_after_offer:N,packet_price_after_offer:k,reviews_avg:B,piece_price:z,offer:E}=e,[C,S]=(0,r.useState)(A);return(0,r.useEffect)(()=>{S(A)},[A]),(0,l.jsx)(c.A,{children:(0,l.jsxs)("div",{className:"group w-full max-w-[360px] md:w-[360px] min-h-[460px] rounded-2xl overflow-hidden shadow-lg bg-gradient-to-br from-[#e8f3f0] to-[#f8f8f8] hover:shadow-xl transition relative mx-auto",children:[(0,l.jsx)("div",{className:"absolute top-2 left-2 bg-pink-100 p-1 rounded-full cursor-pointer z-50",onClick:()=>{S(!C),w()},children:C?(0,l.jsx)(i.A,{size:18,className:"text-pink-500",fill:"#ec4899",stroke:"#ec4899"}):(0,l.jsx)(i.A,{size:18,className:"text-gray-500",fill:"none",stroke:"#6b7280"})}),(0,l.jsxs)("div",{className:"absolute inset-0 bg-[#6B2B7A]/80 flex flex-col items-center justify-center z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[(0,l.jsx)(h(),{href:"/details/".concat(t),className:"text-white font-bold text-lg mb-2",children:(0,l.jsx)(a.default,{src:d.A,alt:"Logo",width:220,height:220,className:"w-[120px] h-[120px] object-contain rounded-full mb-4",unoptimized:!0})}),(0,l.jsx)("div",{dir:"rtl",children:(0,l.jsx)(h(),{href:"/details/".concat(t),className:"text-white font-bold text-lg mb-2",children:(0,l.jsx)("button",{className:"font-bold text-lg px-6 py-2 rounded-xl bg-[#ffc94d] transition w-full",children:"عرض التفاصيل"})})})]}),(0,l.jsx)("div",{className:"relative w-full h-56",children:(0,l.jsx)(a.default,{src:"".concat(o.B).concat(f),alt:s,fill:!0,unoptimized:!0,className:"object-contain rounded-t-2xl pt-5"})}),(0,l.jsxs)("div",{className:"p-4 space-y-2 text-left",dir:"rtl",children:[u&&(0,l.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"string"==typeof u?u:u.name}),(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-900 truncate",children:s}),(0,l.jsx)("p",{className:"text-sm text-gray-600 overflow-hidden text-ellipsis whitespace-nowrap",children:x}),(e=>{let t=e?Math.floor(e):0,s=!!e&&e%1>=.5;return(0,l.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[[void 0,void 0,void 0,void 0,void 0].map((e,r)=>(0,l.jsx)(n.A,{size:16,className:r<t?"fill-yellow-400 text-yellow-400":s&&r===t?"fill-yellow-300 text-yellow-300":"text-gray-300"},r)),(0,l.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:"number"==typeof e?"(".concat(e.toFixed(1),")"):"(بدون تقييم)"})]})})(B),(0,l.jsxs)("div",{className:"flex items-center justify-end mt-2",children:[(0,l.jsx)("div",{className:"space-x-1 rtl:space-x-reverse",children:(0,l.jsx)("span",{className:"font-bold text-lg text-black",children:null===N||""==N?(0,l.jsxs)("span",{className:"text-black",dir:"rtl",children:["ج.م ",z," "]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("span",{className:"text-black ",dir:"rtl",children:[" ",N," ج.م ",(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"text-gray-500 line-through",children:[z," ج.م"]})]})})})}),p&&(0,l.jsxs)("span",{className:"bg-pink-100 text-pink-700 px-2 py-0.5 rounded text-xs font-semibold",children:["خصم ",p,"%"]})]}),"number"==typeof j&&(0,l.jsx)("p",{className:"text-xs font-bold ".concat(0===j?"text-red-500":j<=4?"text-orange-300":"text-gray-600"),children:0===j?"نفذت الكميه ":j<=4?" متبقى  ".concat(j," قطعة اطلبه الان "):""}),Number(E)>0?(0,l.jsxs)("span",{className:"inline-block absolute left-0 bottom-0 w-[100px] h-7 rounded-md bg-pink-100 text-black text-center leading-7",children:[E,"% خصم"]}):"",v&&(0,l.jsx)("span",{className:"text-red-600 font-bold text-xl",children:"نفذت الكمية"})]})]})})}},9678:(e,t,s)=>{"use strict";s.d(t,{A:()=>j});var l=s(5155),r=s(2115),a=s(8173),n=s.n(a),i=s(5565),c=s(853),o=s(1697),d=s(6507),x=s(3230),h=s(8474),f=s(719),u=s(2699),m=s(3727),p=s(9643);let g=e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n(),{href:"/",className:"  flex flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,l.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,l.jsx)(d.A,{size:18})}),"الرئيسيه"]}),(0,l.jsxs)(n(),{href:"/dashboard",className:"flex flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,l.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,l.jsx)(x.A,{size:18})}),"الفئات"]}),(0,l.jsxs)(n(),{href:"/cart",className:"flex flex-col items-center hover:text-yellow-400 transition transform hover:scale-110",children:[(0,l.jsxs)("div",{className:"relative p-2 rounded-full bg-white/10 hover:bg-yellow-400/20 transition",children:[(0,l.jsx)(h.A,{size:18}),e>0&&(0,l.jsx)("span",{className:"absolute -top-1 -left-1 bg-[#d2a400] text-white text-[12px] px-1.5 py-[1px] rounded-full font-bold",children:e})]}),(0,l.jsx)("span",{className:"whitespace-nowrap",children:"عربة التسوق"})]}),(0,l.jsxs)(n(),{href:"/orders",className:"flex flex-col items-center hover:text-green-300 transition transform hover:scale-110",children:[(0,l.jsx)("div",{className:"p-2 rounded-full text-white bg-white/10 hover:bg-green-300/20 transition",children:(0,l.jsx)(f.A,{size:18})}),"الطلبات"]}),(0,l.jsxs)(n(),{href:"/login",className:"flex flex-col items-center hover:text-yellow-400 transition transform hover:scale-110",children:[(0,l.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-yellow-400/20 transition",children:(0,l.jsx)(u.A,{size:18})}),"الحساب"]})]}),j=()=>{let[e,t]=(0,r.useState)(!0),[s,a]=(0,r.useState)(0),{cartCount:d,refreshCartCount:x}=(0,p.x)(),h=()=>{let e=window.scrollY;t(e<s||e<80),a(e)};return(0,r.useEffect)(()=>(window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)),[s]),(0,r.useEffect)(()=>{x()},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("header",{dir:"rtl",className:"fixed top-0 left-0 w-full z-[100] transition-transform duration-300 ".concat(e?"translate-y-0":"-translate-y-full"," bg-gradient-to-tr from-[#6B2B7A] via-[#844C9A] to-[#6B2B7A] shadow-lg backdrop-blur-md"),children:(0,l.jsxs)("div",{className:"max-w-screen-xl mx-auto px-4 py-3 flex flex-row items-center justify-between gap-6",children:[(0,l.jsxs)("div",{className:"flex flex-row md:justify-between items-center w-full md:gap-60 gap-2",children:[(0,l.jsx)("div",{className:"w-full md:w-36 flex justify-center md:justify-start",children:(0,l.jsx)(n(),{href:"/",className:"block",children:(0,l.jsx)(i.default,{src:m.A,alt:"شعار",width:90,height:90,className:"w-[60px] md:w-[70px] object-contain transition-all duration-300",unoptimized:!0})})}),(0,l.jsx)("div",{className:"w-full md:w-full flex justify-center items-center",children:(0,l.jsx)(n(),{href:"/Products",className:"w-full md:w-full flex justify-center items-center",children:(0,l.jsx)("div",{className:"w-full max-w-md",children:(0,l.jsxs)("div",{className:"flex items-center justify-center bg-white/90 rounded-full px-4 py-2 shadow-inner focus-within:ring-2 focus-within:ring-yellow-400 transition",children:[(0,l.jsx)(c.A,{className:"text-gray-500 ml-2",size:18}),(0,l.jsx)("input",{type:"text",placeholder:"إبحث عن منتج...",className:"bg-transparent flex-1 text-sm focus:outline-none text-gray-700 placeholder:text-gray-400"})]})})})}),(0,l.jsx)("div",{children:(0,l.jsxs)(n(),{href:"/scanner",className:"flex text-white   flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,l.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,l.jsx)(o.A,{size:18})}),(0,l.jsx)("span",{className:"hidden md:block",children:"باركود"})]})})]}),(0,l.jsx)("div",{className:"hidden md:flex justify-center items-center gap-4 text-white text-xs sm:text-sm w-full md:w-auto ",children:g(d)})]})}),(0,l.jsx)("div",{className:"fixed bottom-0 left-0 w-full z-[100]  lg:hidden transition-transform duration-300 ".concat(e?"translate-y-0":"translate-y-full"," bg-gradient-to-tr from-[#6B2B7A] via-[#844C9A] to-[#6B2B7A] shadow-inner px-6 py-2 flex justify-around items-center text-white text-xs"),children:g(d)})]})}},8473:(e,t,s)=>{"use strict";s.d(t,{M:()=>i});var l=s(5155),r=s(1594),a=s(8173),n=s.n(a);let i=e=>{let{show:t}=e;return t?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-gradient-to-br from-indigo-100 via-pink-100 to-yellow-100 p-6 rounded-2xl shadow-xl max-w-sm w-full  text-center space-y-4",children:[(0,l.jsx)(r.A,{className:"text-red-500 w-12 h-12 mx-auto"}),(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"رجاء تسجيل الدخول"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:"لا يمكنك الوصول إلى هذه العمليه بدون تسجيل الدخول."}),(0,l.jsx)(n(),{href:"/login",className:"inline-block mt-4 bg-btn-color text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition",children:"تسجيل الدخول الآن"})]})}):null}},7194:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});var l=s(2651);let r=()=>null,a=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{r();let n={"Content-Type":"application/json",...a};return(await (0,l.A)({method:e,url:t,headers:n,data:s})).data}catch(e){if(l.A.isAxiosError(e)){var n,i;if(null===(n=e.response)||void 0===n?void 0:n.data)throw Error("Error: ".concat(null===(i=e.response)||void 0===i?void 0:i.status," - ").concat(JSON.stringify(e.response.data)));if(e.request)throw Error("No response received from server.")}throw Error("Unexpected error: ".concat(String(e)))}}},9643:(e,t,s)=>{"use strict";s.d(t,{x:()=>o});var l=s(9827),r=s(2651),a=s(9208),n=s(5037),i=s(7351);let c=()=>{let e=a.A.get("access_token_login");return{"Content-Type":"application/json",...e&&{Authorization:"Bearer ".concat(e)}}},o=(0,l.v)(e=>({cartCount:0,setCartCount:t=>e({cartCount:t}),refreshCartCount:async()=>{if(!a.A.get("access_token_login")){e({cartCount:0});return}try{let t=(await r.A.get("".concat(i.B,"api/carts"),{headers:c()})).data.data.data.data.length;e({cartCount:t})}catch(t){console.error("❌ فشل في جلب عدد السلة:",t),n.Ay.error("❌ فشل جلب عدد السلة"),e({cartCount:0})}}}))},3727:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l={src:"/_next/static/media/حورلوجو-1.39f26f0b.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAWlBMVEVMaXHqqHCVZZu1Zk2sk6zXs6jGt9rSxOLIrM6Uap2Vc6bNudDMdDWPYaanga2qi7Dlp3Ghf7WIXKTQvtOZfKKbg6bSjVeNWZe9fmzmrH3koWrssYTKu9rIttWFTWsOAAAAHnRSTlMAOHLsGiSaBQuKu6T9rn5WkibGU3GQ3bzLp71gU7G611WfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVR4nAXBhQHAIBAAsUMfh7rvv2YTCMG5SSBEXcysQepRTI1gW9/P1IT3897nvKCuR7m+WtS4x5aiBUSCwA9YNQKB2rMAEwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}}},e=>{var t=t=>e(e.s=t);e.O(0,[5037,7442,8441,1517,7358],()=>t(6762)),_N_E=e.O()}]);