(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1536],{2076:(e,t,s)=>{Promise.resolve().then(s.bind(s,1431))},1431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(5155),r=s(2115),n=s(2651),l=s(5565);let i=(0,s(7401).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);var c=s(9678),o=s(7351),d=s(8173),h=s.n(d);function x(){let[e,t]=(0,r.useState)([]),[s,d]=(0,r.useState)(1),[x,u]=(0,r.useState)(!0),[m,f]=(0,r.useState)(!1),[g,p]=(0,r.useState)([]),[w,j]=(0,r.useState)(1),[A,b]=(0,r.useState)(null),[v,N]=(0,r.useState)(!0),[y,k]=(0,r.useState)(!1),[B,C]=(0,r.useState)(!1),S=(0,r.useRef)(null),E=(0,r.useRef)(null),z=(0,r.useCallback)(e=>{!m&&(S.current&&S.current.disconnect(),S.current=new IntersectionObserver(e=>{e[0].isIntersecting&&x&&d(e=>e+1)}),e&&S.current.observe(e))},[m,x]),_=(0,r.useCallback)(e=>{!y&&A&&(E.current&&E.current.disconnect(),E.current=new IntersectionObserver(e=>{e[0].isIntersecting&&v&&j(e=>e+1)}),e&&E.current.observe(e))},[y,v,A]);(0,r.useEffect)(()=>{(async()=>{f(!0);try{let e=await n.A.get("".concat(o.B,"api/products/categories?page=").concat(s,"&hasProducts=false")),a=e.data.data.data;t(e=>[...e,...a]),u(e.data.data.meta.current_page<e.data.data.meta.last_page),1===s&&a.length>0&&T(a[0].id)}catch(e){console.error("Error fetching categories:",e)}f(!1)})()},[s]);let T=e=>{e!==A&&(b(e),p([]),j(1),N(!0),C(!1),console.log(e))};return(0,r.useEffect)(()=>{null!==A&&(async()=>{k(!0);try{let e=await n.A.get("".concat(o.B,"api/products/categories?page=").concat(w,"&parent_id=").concat(A)),t=e.data.data.data;p(e=>1===w?t:[...e,...t]),N(e.data.data.meta.current_page<e.data.data.meta.last_page)}catch(e){console.error("Error fetching products:",e)}k(!1)})()},[w,A]),(0,a.jsxs)("div",{className:"flex h-screen overflow-hidden bg-gradient-to-br from-indigo-100 via-pink-100 to-yellow-100",children:[(0,a.jsx)("div",{className:"mb-16 ",children:(0,a.jsx)(c.A,{})}),(0,a.jsx)("button",{className:"md:hidden absolute top-32 left-4 z-50 bg-white p-2 rounded-full shadow-md",onClick:()=>C(!B),children:(0,a.jsx)(i,{})}),(0,a.jsxs)("aside",{className:"fixed top-16 right-0 md:static h-full w-64 p-4 transition-transform z-30 shadow-xl bg-gradient-to-b from-white via-blue-50 to-pink-100 overflow-y-auto border-l border-gray-300 ".concat(B?"translate-x-0":"translate-x-full md:translate-x-0"),children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-4 pt-20  text-center text-gray-700",children:"الفئات"}),(0,a.jsx)("div",{className:"flex flex-col gap-2",children:e.map((t,s)=>{let r=s===e.length-1?z:void 0,n=A===t.id;return(0,a.jsxs)("div",{ref:r,className:"flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-all ".concat(n?"bg-blue-200 font-semibold shadow":"hover:bg-blue-100"),onClick:()=>T(t.id),children:[(0,a.jsx)(l.default,{src:"".concat(o.B).concat(t.image),alt:t.name,width:30,height:30,className:"object-contain",unoptimized:!0}),(0,a.jsx)("span",{className:"text-sm text-gray-800",children:t.name})]},"".concat(s,"-").concat(t.id))})})]}),(0,a.jsxs)("main",{className:"flex-1 overflow-y-auto p-6 pt-20 md:pt-24",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-right text-gray-800",children:"المنتجات"}),0===g.length&&!y&&(0,a.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,a.jsx)("div",{className:"w-16 h-16 border-8 border-purple-600 border-t-transparent rounded-full animate-spin"})}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.map((e,t)=>{let s=t===g.length-1?_:void 0;return(0,a.jsx)("div",{ref:s,children:(0,a.jsxs)(h(),{href:"/Categories/".concat(e.id),className:" bg-white rounded-lg p-4  flex flex-col items-center shadow hover:shadow-md transition",children:[(0,a.jsx)(l.default,{src:"".concat(o.B).concat(e.image),alt:e.name,width:80,height:80,className:"w-full h-20 object-contain mb-2"}),(0,a.jsx)("div",{className:"text-center text-sm font-medium text-gray-800",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.price})]})},e.id)})}),(m||y)&&(0,a.jsx)("p",{className:"text-center mt-6 text-gray-700",children:"جاري التحميل..."})]})]})}},7351:(e,t,s)=>{"use strict";s.d(t,{B:()=>r,b:()=>l});var a=s(9208);let r="https://hoorbookapp.com/",n=a.A.get("access_token_login"),l={Authorization:"Bearer ".concat(n),userType:"2",fcmToken:"fGS7RgUcR66lms505IQllc:APA91bF-AdXcn94TKHQ2eKEqTX22eQTxr6LRSwpHyzwWXjvwBFfLQ_yYWO0ZNfd9ScbxHjKBZaGLosJK2G1wfrKp6G4h3FeDfdNovPZD3PX8iV-ckfYf3ig",lang:"ar","Content-Type":"application/json"}},9678:(e,t,s)=>{"use strict";s.d(t,{A:()=>w});var a=s(5155),r=s(2115),n=s(8173),l=s.n(n),i=s(5565),c=s(853),o=s(1697),d=s(6507),h=s(3230),x=s(8474),u=s(719),m=s(2699),f=s(3727),g=s(9643);let p=e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{href:"/",className:"  flex flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,a.jsx)(d.A,{size:18})}),"الرئيسيه"]}),(0,a.jsxs)(l(),{href:"/dashboard",className:"flex flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,a.jsx)(h.A,{size:18})}),"الفئات"]}),(0,a.jsxs)(l(),{href:"/cart",className:"flex flex-col items-center hover:text-yellow-400 transition transform hover:scale-110",children:[(0,a.jsxs)("div",{className:"relative p-2 rounded-full bg-white/10 hover:bg-yellow-400/20 transition",children:[(0,a.jsx)(x.A,{size:18}),e>0&&(0,a.jsx)("span",{className:"absolute -top-1 -left-1 bg-[#d2a400] text-white text-[12px] px-1.5 py-[1px] rounded-full font-bold",children:e})]}),(0,a.jsx)("span",{className:"whitespace-nowrap",children:"عربة التسوق"})]}),(0,a.jsxs)(l(),{href:"/orders",className:"flex flex-col items-center hover:text-green-300 transition transform hover:scale-110",children:[(0,a.jsx)("div",{className:"p-2 rounded-full text-white bg-white/10 hover:bg-green-300/20 transition",children:(0,a.jsx)(u.A,{size:18})}),"الطلبات"]}),(0,a.jsxs)(l(),{href:"/login",className:"flex flex-col items-center hover:text-yellow-400 transition transform hover:scale-110",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-yellow-400/20 transition",children:(0,a.jsx)(m.A,{size:18})}),"الحساب"]})]}),w=()=>{let[e,t]=(0,r.useState)(!0),[s,n]=(0,r.useState)(0),{cartCount:d,refreshCartCount:h}=(0,g.x)(),x=()=>{let e=window.scrollY;t(e<s||e<80),n(e)};return(0,r.useEffect)(()=>(window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)),[s]),(0,r.useEffect)(()=>{h()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{dir:"rtl",className:"fixed top-0 left-0 w-full z-[100] transition-transform duration-300 ".concat(e?"translate-y-0":"-translate-y-full"," bg-gradient-to-tr from-[#6B2B7A] via-[#844C9A] to-[#6B2B7A] shadow-lg backdrop-blur-md"),children:(0,a.jsxs)("div",{className:"max-w-screen-xl mx-auto px-4 py-3 flex flex-row items-center justify-between gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-row md:justify-between items-center w-full md:gap-60 gap-2",children:[(0,a.jsx)("div",{className:"w-full md:w-36 flex justify-center md:justify-start",children:(0,a.jsx)(l(),{href:"/",className:"block",children:(0,a.jsx)(i.default,{src:f.A,alt:"شعار",width:90,height:90,className:"w-[60px] md:w-[70px] object-contain transition-all duration-300",unoptimized:!0})})}),(0,a.jsx)("div",{className:"w-full md:w-full flex justify-center items-center",children:(0,a.jsx)(l(),{href:"/Products",className:"w-full md:w-full flex justify-center items-center",children:(0,a.jsx)("div",{className:"w-full max-w-md",children:(0,a.jsxs)("div",{className:"flex items-center justify-center bg-white/90 rounded-full px-4 py-2 shadow-inner focus-within:ring-2 focus-within:ring-yellow-400 transition",children:[(0,a.jsx)(c.A,{className:"text-gray-500 ml-2",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"إبحث عن منتج...",className:"bg-transparent flex-1 text-sm focus:outline-none text-gray-700 placeholder:text-gray-400"})]})})})}),(0,a.jsx)("div",{children:(0,a.jsxs)(l(),{href:"/scanner",className:"flex text-white   flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,a.jsx)(o.A,{size:18})}),(0,a.jsx)("span",{className:"hidden md:block",children:"باركود"})]})})]}),(0,a.jsx)("div",{className:"hidden md:flex justify-center items-center gap-4 text-white text-xs sm:text-sm w-full md:w-auto ",children:p(d)})]})}),(0,a.jsx)("div",{className:"fixed bottom-0 left-0 w-full z-[100]  lg:hidden transition-transform duration-300 ".concat(e?"translate-y-0":"translate-y-full"," bg-gradient-to-tr from-[#6B2B7A] via-[#844C9A] to-[#6B2B7A] shadow-inner px-6 py-2 flex justify-around items-center text-white text-xs"),children:p(d)})]})}},9643:(e,t,s)=>{"use strict";s.d(t,{x:()=>o});var a=s(9827),r=s(2651),n=s(9208),l=s(5037),i=s(7351);let c=()=>{let e=n.A.get("access_token_login");return{"Content-Type":"application/json",...e&&{Authorization:"Bearer ".concat(e)}}},o=(0,a.v)(e=>({cartCount:0,setCartCount:t=>e({cartCount:t}),refreshCartCount:async()=>{if(!n.A.get("access_token_login")){e({cartCount:0});return}try{let t=(await r.A.get("".concat(i.B,"api/carts"),{headers:c()})).data.data.data.data.length;e({cartCount:t})}catch(t){console.error("❌ فشل في جلب عدد السلة:",t),l.Ay.error("❌ فشل جلب عدد السلة"),e({cartCount:0})}}}))},3727:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/_next/static/media/حورلوجو-1.39f26f0b.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAWlBMVEVMaXHqqHCVZZu1Zk2sk6zXs6jGt9rSxOLIrM6Uap2Vc6bNudDMdDWPYaanga2qi7Dlp3Ghf7WIXKTQvtOZfKKbg6bSjVeNWZe9fmzmrH3koWrssYTKu9rIttWFTWsOAAAAHnRSTlMAOHLsGiSaBQuKu6T9rn5WkibGU3GQ3bzLp71gU7G611WfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVR4nAXBhQHAIBAAsUMfh7rvv2YTCMG5SSBEXcysQepRTI1gW9/P1IT3897nvKCuR7m+WtS4x5aiBUSCwA9YNQKB2rMAEwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}}},e=>{var t=t=>e(e.s=t);e.O(0,[5037,7442,8441,1517,7358],()=>t(2076)),_N_E=e.O()}]);