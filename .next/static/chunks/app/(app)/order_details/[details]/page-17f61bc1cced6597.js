(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8618],{6975:(e,s,t)=>{Promise.resolve().then(t.bind(t,7467))},767:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6046:(e,s,t)=>{"use strict";var r=t(6658);t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},7467:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var r=t(5155),a=t(7351),l=t(8068),n=t(2651),i=t(6046),c=t(2115),d=t(7401);let o=(0,d.A)("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),x=(0,d.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var h=t(9678),u=t(767);let m=e=>(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",children:(0,r.jsxs)("div",{className:"relative w-full max-w-xl bg-white rounded-2xl shadow-2xl p-6 animate-fade-in space-y-6",children:[(0,r.jsx)("button",{onClick:e.onClose,className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition",children:(0,r.jsx)(u.A,{size:20})}),(0,r.jsxs)("h2",{className:"text-xl font-semibold text-purple-700 text-center",children:["اختر سبب ",e.label]}),(0,r.jsx)("div",{className:"space-y-3",children:e.reasons.map((s,t)=>(0,r.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"cancelReason",value:s,checked:e.reason===s,onChange:()=>{var t;return null===(t=e.setReason)||void 0===t?void 0:t.call(e,s)},className:"accent-purple-600"}),(0,r.jsx)("span",{className:"text-gray-700 pr-2",children:s})]},t))}),(0,r.jsx)("button",{onClick:()=>{var s;null===(s=e.cancelOrder)||void 0===s||s.call(e,e.reason,e.status),e.onClose()},disabled:!e.reason,className:"w-full font-semibold py-2 rounded-lg shadow-md transition duration-300 ".concat(e.reason?"bg-gradient-to-r from-purple-700 to-orange-400 text-white hover:opacity-90":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"الارجاع"===e.label?"تأكيد الاسترجاع":"تأكيد الإلغاء"})]})});var p=t(5037),g=t(8173),f=t.n(g);function j(){let e=(0,i.useRouter)(),s=(0,i.usePathname)().split("/").pop(),t="".concat(a.B,"api/orders/").concat(s),[d,u]=(0,c.useState)(),[g,j]=(0,c.useState)(!1),[b,v]=(0,c.useState)(!1),[w,y]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{try{let e=await n.A.get(t,{headers:a.b});u(e.data.data)}catch(e){console.log(e)}})()},[]);let A=async(s,r)=>{try{let l=await n.A.patch(t,{reason:s,status:r},{headers:a.b});console.log(l),200===l.status&&("cancel"===r?(p.Ay.success("تم إلغاء الطلب بنجاح"),e.push("/orders"),j(!1)):"refund"===r&&(p.Ay.success("تم استرجاع الطلب بنجاح"),e.push("/orders"),v(!1)))}catch(e){console.log(e)}};return d?(0,r.jsxs)("section",{className:"py-8 bg-gradient-to-br from-indigo-50 via-pink-50 to-yellow-50",children:[(0,r.jsx)("div",{className:"pb-32 md:pb-20",children:(0,r.jsx)(h.A,{})}),(0,r.jsxs)(l.A,{children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[["Pending","Processing"].includes(d.status)&&(0,r.jsxs)("button",{onClick:()=>{j(!g),v(!1)},className:"flex items-center gap-2 mb-4  px-4 py-2 text-sm text-white bg-red-600 rounded-xl hover:bg-red-700 transition",children:[(0,r.jsx)(o,{size:18})," إلغاء"]}),"Delivered"===d.status&&d.refund&&(0,r.jsxs)("button",{onClick:()=>{v(!b),j(!1)},className:"flex items-center mb-4 gap-2 px-4 py-2 text-sm text-white bg-yellow-500 rounded-xl hover:bg-yellow-600 transition",children:[(0,r.jsx)(x,{size:18})," استرجاع"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-br from-white via-indigo-50 to-indigo-100 border border-indigo-200 shadow-md rounded-xl p-5 h-full",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"بيانات الطلب"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700 font-semibold",children:"الحالة:"}),(0,r.jsx)("span",{className:"text-xs rounded-full font-semibold\n      ".concat("Pending"===d.status||"Processing"===d.status?" text-yellow-600":"Cancelled"===d.status?" text-red-600":"Shipped"===d.status?" text-blue-600":"Delivered"===d.status?" text-green-600":"Refund"===d.status&&"Refunded"===d.payment_status?" text-green-600":"Refund"===d.status?" text-orange-600":" text-gray-600"),children:"Pending"===d.status?"في المراجعة":"Processing"===d.status?"فى التجهيز":"Shipped"===d.status?"خرج للتوصيل":"Delivered"===d.status?"تم التوصيل":"Cancelled"===d.status?"تم الإلغاء":"Refund"===d.status&&"Refunded"===d.payment_status?"تم الارجاع":"Refund"===d.status?"جاري مراجعة إرجاع الطلب":"غير معروف"})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"حالة الدفع:"})," ","Cash On Delivery"==d.payment_type?"الدفع عند الاستلام":"بطاقة الدفع"]}),"            ",(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"الإجمالي:"})," ",d.total," جنيه"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"الخصم:"})," ",d.discount," ج.م"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"خصم النقاط:"})," ",d.points_discount," ج.م"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"ملاحظات:"})," ",d.notes]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"تم الإنشاء:"})," ",d.created_at]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-white via-yellow-50 to-yellow-100 border border-yellow-200 shadow-md rounded-xl p-5 h-full",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"عنوان التوصيل"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"الاسم:"})," ",d.address.full_name]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"المنطقة:"})," ",d.address.area,", ",d.address.city]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"المحافظة:"})," ",d.address.governorate]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"التفاصيل:"})," ",d.address.address_details]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"الهاتف:"})," ",d.address.phone]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 shadow-sm rounded-xl p-5",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"المنتجات"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:d.order_meta.map(e=>{var s;return(0,r.jsxs)(f(),{href:"/details/".concat(e.product_id),className:"border border-pink-200 rounded-xl p-4 shadow-md flex flex-col bg-gradient-to-br from-white via-pink-50 to-pink-100 hover:shadow-lg transition",children:[(0,r.jsx)("img",{src:"".concat(a.B).concat(e.product.image),alt:e.product.name,className:"w-full h-32 object-contain mb-3 rounded"}),(0,r.jsx)("h3",{className:"font-semibold text-base mb-1 text-gray-800",children:e.product.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.product.desc}),(0,r.jsxs)("div",{className:"mt-auto text-sm text-gray-700 space-y-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"الكمية:"})," ",e.qty]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"السعر:"})," ",e.price_after_discount," جنيه"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"النوع:"})," ","Piece"===e.product_type?"قطعة":"دستة"]})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:null!=e.color.code?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-500",children:" اللون:"}),(0,r.jsx)("span",{className:"w-4 h-4 rounded border",style:{backgroundColor:"".concat(null===(s=e.color)||void 0===s?void 0:s.code)}})]}):""})]},e.id)})})]}),g&&(0,r.jsx)(m,{reasons:["التأخر فى التسليم ","خدمه العملاء غير مرضية","قرار شخصى بعدم شراء المنتج","عدم وجود معلومات كافيه عن المنتج","توفر المنتج فى مكان اخر بسعر ارخص ","طلب المنتج عن طريق الخطأ","اسباب أخرى"],label:"الالغاء",reason:w,status:"cancel",setReason:y,cancelOrder:A,onClose:()=>{j(!1)}}),b&&(0,r.jsx)(m,{reasons:["المنتج وصندوق الشحن تالفان","المنتج لا يفى بلتوقعات","غير متوافق او غير مفيد","يتوفر بسعر افضل فى مكان أخر","لم اعد بحاجه اليه ","تم ارسال منتج خطأ","اريد ارجاع بعض من المنتجات","اسباب أخرى"],reason:w,label:"الارجاع",status:"refund",setReason:y,cancelOrder:A,onClose:()=>{v(!1)}})]})]}):(0,r.jsx)("div",{className:"p-6 text-center",children:"جاري تحميل التفاصيل..."})}},7351:(e,s,t)=>{"use strict";t.d(s,{B:()=>a,b:()=>n});var r=t(9208);let a="https://hoorbookapp.com/",l=r.A.get("access_token_login"),n={Authorization:"Bearer ".concat(l),userType:"2",fcmToken:"fGS7RgUcR66lms505IQllc:APA91bF-AdXcn94TKHQ2eKEqTX22eQTxr6LRSwpHyzwWXjvwBFfLQ_yYWO0ZNfd9ScbxHjKBZaGLosJK2G1wfrKp6G4h3FeDfdNovPZD3PX8iV-ckfYf3ig",lang:"ar","Content-Type":"application/json"}},8068:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(5155);let a=e=>{let{children:s}=e;return(0,r.jsx)("div",{className:"ml-3 mr-3 mt-5   'lg:ml-[95px]' : 'lg:ml-[270px]'} text-white ",children:s})}},9678:(e,s,t)=>{"use strict";t.d(s,{A:()=>j});var r=t(5155),a=t(2115),l=t(8173),n=t.n(l),i=t(5565),c=t(853),d=t(1697),o=t(6507),x=t(3230),h=t(8474),u=t(719),m=t(2699),p=t(3727),g=t(9643);let f=e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n(),{href:"/",className:"  flex flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,r.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,r.jsx)(o.A,{size:18})}),"الرئيسيه"]}),(0,r.jsxs)(n(),{href:"/dashboard",className:"flex flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,r.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,r.jsx)(x.A,{size:18})}),"الفئات"]}),(0,r.jsxs)(n(),{href:"/cart",className:"flex flex-col items-center hover:text-yellow-400 transition transform hover:scale-110",children:[(0,r.jsxs)("div",{className:"relative p-2 rounded-full bg-white/10 hover:bg-yellow-400/20 transition",children:[(0,r.jsx)(h.A,{size:18}),e>0&&(0,r.jsx)("span",{className:"absolute -top-1 -left-1 bg-[#d2a400] text-white text-[12px] px-1.5 py-[1px] rounded-full font-bold",children:e})]}),(0,r.jsx)("span",{className:"whitespace-nowrap",children:"عربة التسوق"})]}),(0,r.jsxs)(n(),{href:"/orders",className:"flex flex-col items-center hover:text-green-300 transition transform hover:scale-110",children:[(0,r.jsx)("div",{className:"p-2 rounded-full text-white bg-white/10 hover:bg-green-300/20 transition",children:(0,r.jsx)(u.A,{size:18})}),"الطلبات"]}),(0,r.jsxs)(n(),{href:"/login",className:"flex flex-col items-center hover:text-yellow-400 transition transform hover:scale-110",children:[(0,r.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-yellow-400/20 transition",children:(0,r.jsx)(m.A,{size:18})}),"الحساب"]})]}),j=()=>{let[e,s]=(0,a.useState)(!0),[t,l]=(0,a.useState)(0),{cartCount:o,refreshCartCount:x}=(0,g.x)(),h=()=>{let e=window.scrollY;s(e<t||e<80),l(e)};return(0,a.useEffect)(()=>(window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)),[t]),(0,a.useEffect)(()=>{x()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("header",{dir:"rtl",className:"fixed top-0 left-0 w-full z-[100] transition-transform duration-300 ".concat(e?"translate-y-0":"-translate-y-full"," bg-gradient-to-tr from-[#6B2B7A] via-[#844C9A] to-[#6B2B7A] shadow-lg backdrop-blur-md"),children:(0,r.jsxs)("div",{className:"max-w-screen-xl mx-auto px-4 py-3 flex flex-row items-center justify-between gap-6",children:[(0,r.jsxs)("div",{className:"flex flex-row md:justify-between items-center w-full md:gap-60 gap-2",children:[(0,r.jsx)("div",{className:"w-full md:w-36 flex justify-center md:justify-start",children:(0,r.jsx)(n(),{href:"/",className:"block",children:(0,r.jsx)(i.default,{src:p.A,alt:"شعار",width:90,height:90,className:"w-[60px] md:w-[70px] object-contain transition-all duration-300",unoptimized:!0})})}),(0,r.jsx)("div",{className:"w-full md:w-full flex justify-center items-center",children:(0,r.jsx)(n(),{href:"/Products",className:"w-full md:w-full flex justify-center items-center",children:(0,r.jsx)("div",{className:"w-full max-w-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-center bg-white/90 rounded-full px-4 py-2 shadow-inner focus-within:ring-2 focus-within:ring-yellow-400 transition",children:[(0,r.jsx)(c.A,{className:"text-gray-500 ml-2",size:18}),(0,r.jsx)("input",{type:"text",placeholder:"إبحث عن منتج...",className:"bg-transparent flex-1 text-sm focus:outline-none text-gray-700 placeholder:text-gray-400"})]})})})}),(0,r.jsx)("div",{children:(0,r.jsxs)(n(),{href:"/scanner",className:"flex text-white   flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,r.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,r.jsx)(d.A,{size:18})}),(0,r.jsx)("span",{className:"hidden md:block",children:"باركود"})]})})]}),(0,r.jsx)("div",{className:"hidden md:flex justify-center items-center gap-4 text-white text-xs sm:text-sm w-full md:w-auto ",children:f(o)})]})}),(0,r.jsx)("div",{className:"fixed bottom-0 left-0 w-full z-[100]  lg:hidden transition-transform duration-300 ".concat(e?"translate-y-0":"translate-y-full"," bg-gradient-to-tr from-[#6B2B7A] via-[#844C9A] to-[#6B2B7A] shadow-inner px-6 py-2 flex justify-around items-center text-white text-xs"),children:f(o)})]})}},9643:(e,s,t)=>{"use strict";t.d(s,{x:()=>d});var r=t(9827),a=t(2651),l=t(9208),n=t(5037),i=t(7351);let c=()=>{let e=l.A.get("access_token_login");return{"Content-Type":"application/json",...e&&{Authorization:"Bearer ".concat(e)}}},d=(0,r.v)(e=>({cartCount:0,setCartCount:s=>e({cartCount:s}),refreshCartCount:async()=>{if(!l.A.get("access_token_login")){e({cartCount:0});return}try{let s=(await a.A.get("".concat(i.B,"api/carts"),{headers:c()})).data.data.data.data.length;e({cartCount:s})}catch(s){console.error("❌ فشل في جلب عدد السلة:",s),n.Ay.error("❌ فشل جلب عدد السلة"),e({cartCount:0})}}}))},3727:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r={src:"/_next/static/media/حورلوجو-1.39f26f0b.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAWlBMVEVMaXHqqHCVZZu1Zk2sk6zXs6jGt9rSxOLIrM6Uap2Vc6bNudDMdDWPYaanga2qi7Dlp3Ghf7WIXKTQvtOZfKKbg6bSjVeNWZe9fmzmrH3koWrssYTKu9rIttWFTWsOAAAAHnRSTlMAOHLsGiSaBQuKu6T9rn5WkibGU3GQ3bzLp71gU7G611WfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVR4nAXBhQHAIBAAsUMfh7rvv2YTCMG5SSBEXcysQepRTI1gW9/P1IT3897nvKCuR7m+WtS4x5aiBUSCwA9YNQKB2rMAEwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}}},e=>{var s=s=>e(e.s=s);e.O(0,[5037,7442,8441,1517,7358],()=>s(6975)),_N_E=e.O()}]);