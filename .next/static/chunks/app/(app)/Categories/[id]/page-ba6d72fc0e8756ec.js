(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9098],{3889:(e,t,s)=>{Promise.resolve().then(s.bind(s,5761))},6046:(e,t,s)=>{"use strict";var r=s(6658);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},5761:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>E});var r=s(5155),a=s(2115),l=s(8205),n=s(9570),i=s(5565),o=s(6507),c=s(3230),d=s(8474),h=s(719),x=s(2699),u=s(853),f=s(1697),m=s(5047),p=s(8173),g=s.n(p),v=s(3727),b=s(4047),w=s.n(b),j=s(5683),y=s(8637),A=s(6046),N=s(7351),k=s(9643),C=s(9208),S=s(7194),B=s(5037);function E(){let e=(0,A.usePathname)().split("/").pop(),[t,s]=(0,a.useState)(""),[p,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{setTimeout(()=>{b(!0)},1500)},[]);let E=C.A.get("access_token_login"),z=(0,a.useRef)(null),{cartCount:P,refreshCartCount:_}=(0,k.x)(),[T,O]=(0,a.useState)(!1),[R,M]=(0,a.useState)([]),[W,F]=(0,a.useState)({hasStock:"",hasColors:"",hasPacket:"",hasOffer:"",category:e}),K="".concat(N.B,"api/products/favourite"),[U,G]=(0,a.useState)([]),L=async()=>{try{if(E){var e,t;let s=await (0,S.z)("get","".concat(N.B,"api/products?page=1&favourite=1"),{},N.b),r=(null==s?void 0:null===(t=s.data)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.map(e=>e.id))||[];G(r)}}catch(e){console.error("Error fetching favorites:",e)}},[Q,I]=(0,a.useState)(!1),{products:X,fetchProducts:H,hasMore:Z,loading:V,setSearchTerm:Y}=(0,l.M)();(0,a.useEffect)(()=>{H(!0,"",{...W,category:e||""}),L()},[]);let D=(0,a.useRef)(w()((e,t)=>{Y(e),H(!0,e,t)},500)).current;(0,a.useEffect)(()=>{t.trim()&&D(t,W)},[t,W]),(0,a.useEffect)(()=>{let e=new IntersectionObserver(e=>{e[0].isIntersecting&&Z&&!V&&H(!1,t,W)},{threshold:1});return z.current&&e.observe(z.current),()=>{z.current&&e.unobserve(z.current)}},[Z,V]);let q=async e=>{try{if(!E){O(!0),console.log(T);return}O(!1);let t=await (0,S.z)("post",K,{product_id:e},N.b);console.log("Accepted",t),B.Ay.success("تم اضافه منتج الى المفضله "),M(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}catch(e){B.Ay.error("خطأ فى اضافه المنتج برجاء اعاده المحاوله"),console.log(e)}};t.trim().length;let[J,$]=(0,a.useState)(!0),[ee,et]=(0,a.useState)(0),es=()=>{let e=window.scrollY;$(e<ee||e<80),et(e)};(0,a.useEffect)(()=>(window.addEventListener("scroll",es),()=>window.removeEventListener("scroll",es)),[ee]);let er=e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(g(),{href:"/",className:"flex flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,r.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,r.jsx)(o.A,{size:18})}),"الرئيسيه"]}),(0,r.jsxs)(g(),{href:"/dashboard",className:"flex flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,r.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,r.jsx)(c.A,{size:18})}),"الفئات"]}),(0,r.jsxs)(g(),{href:"/cart",className:"flex flex-col items-center hover:text-yellow-400 transition transform hover:scale-110",children:[(0,r.jsxs)("div",{className:"relative p-2 rounded-full bg-white/10 hover:bg-yellow-400/20 transition",children:[(0,r.jsx)(d.A,{size:18}),e>0&&(0,r.jsx)("span",{className:"absolute -top-1 -left-1 bg-[#d2a400] text-white text-[12px] px-1.5 py-[1px] rounded-full font-bold",children:e})]}),(0,r.jsx)("span",{className:"whitespace-nowrap",children:"عربة التسوق"})]}),(0,r.jsxs)(g(),{href:"/orders",className:"flex flex-col items-center hover:text-green-300 transition transform hover:scale-110",children:[(0,r.jsx)("div",{className:"p-2 rounded-full text-white bg-white/10 hover:bg-green-300/20 transition",children:(0,r.jsx)(h.A,{size:18})}),"الطلبات"]}),(0,r.jsxs)(g(),{href:"/register",className:"flex flex-col items-center hover:text-yellow-400 transition transform hover:scale-110",children:[(0,r.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-yellow-400/20 transition",children:(0,r.jsx)(x.A,{size:18})}),"الحساب"]})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("header",{dir:"rtl",className:"fixed top-0 left-0 w-full z-[100] transition-transform duration-300 ".concat(J?"translate-y-0":"-translate-y-full"," bg-gradient-to-tr from-[#6B2B7A] via-[#844C9A] to-[#6B2B7A] shadow-lg backdrop-blur-md"),children:(0,r.jsxs)("div",{className:"max-w-screen-xl mx-auto px-4 py-3 flex flex-row items-center justify-between gap-6",children:[(0,r.jsxs)("div",{className:"flex flex-row md:justify-between items-center w-full md:gap-60 gap-2",children:[(0,r.jsx)("div",{className:"w-full md:w-36 flex justify-center md:justify-start",children:(0,r.jsx)(g(),{href:"/",className:"block",children:(0,r.jsx)(i.default,{src:v.A,alt:"شعار",width:90,height:90,className:"w-[60px] md:w-[70px] object-contain transition-all duration-300",unoptimized:!0})})}),(0,r.jsx)("div",{className:"w-full md:w-full flex justify-center items-center",children:(0,r.jsx)(g(),{href:"/Products",className:"w-full md:w-full flex justify-center items-center",children:(0,r.jsx)("div",{className:"w-full max-w-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-center bg-white/90 rounded-full px-4 py-2 shadow-inner focus-within:ring-2 focus-within:ring-yellow-400 transition",children:[(0,r.jsx)(u.A,{className:"text-gray-500 ml-2",size:18}),(0,r.jsx)("input",{type:"text",placeholder:"إبحث عن منتج...",className:"bg-transparent flex-1 text-sm focus:outline-none text-gray-700 placeholder:text-gray-400"})]})})})}),(0,r.jsx)("div",{children:(0,r.jsxs)(g(),{href:"/scanner",className:"flex text-white   flex-col items-center hover:text-pink-300 transition transform hover:scale-110",children:[(0,r.jsx)("div",{className:"p-2 rounded-full bg-white/10 hover:bg-pink-300/20 transition",children:(0,r.jsx)(f.A,{size:18})}),(0,r.jsx)("span",{className:"hidden md:block",children:"باركود"})]})})]}),(0,r.jsx)("div",{className:"hidden md:flex justify-center items-center gap-4 text-white text-xs sm:text-sm w-full md:w-auto ",children:er(P)})]})}),(0,r.jsx)("div",{className:"fixed bottom-0 left-0 w-full z-[100] lg:hidden transition-transform duration-300 ".concat(J?"translate-y-0":"translate-y-full"," bg-gradient-to-tr from-[#6B2B7A] via-[#844C9A] to-[#6B2B7A] shadow-inner px-6 py-2 flex justify-around items-center text-white text-xs"),children:er(P)}),(0,r.jsxs)("div",{className:"p-4 mb-4",children:[0===X.length?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,r.jsx)("div",{className:"w-16 h-16 border-8 border-purple-600 border-t-transparent rounded-full animate-spin"})}):(0,r.jsx)("section",{children:p&&(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6 px-2 sm:px-6 lg:px-12 mt-28",dir:"rtl",children:X.map((e,t)=>(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:scale-[1.015] border border-gray-100",children:(0,r.jsx)(n.Z,{...e,love:U.includes(e.id),handellove:()=>{q(e.id)}})},t))})}),Z&&0!=X.length&&(0,r.jsx)("div",{ref:z,className:"h-10 w-full mt-6 flex justify-center items-center",children:(0,r.jsx)("div",{className:"w-6 h-6 border-4  border-purple-600 border-t-transparent rounded-full animate-spin"})}),(0,r.jsx)("button",{onClick:()=>I(!Q),className:"fixed bottom-20 left-4 sm:bottom-6 sm:left-6 z-[999] w-12 h-12 sm:w-14 sm:h-14 rounded-full shadow-2xl flex items-center justify-center text-white text-xl sm:text-2xl transition-transform duration-500 hover:rotate-12 ".concat(Q?"bg-gradient-to-br from-yellow-500 to-red-400 rotate-180":"bg-btn-color"),children:(0,r.jsx)(m.A,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,r.jsx)(j.N,{children:Q&&(0,r.jsx)(y.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed bottom-0 left-0 z-[998] w-full h-full flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>I(!1),children:(0,r.jsxs)(y.P.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:{visible:{transition:{staggerChildren:.15}}},className:"w-[90%] sm:w-[340px] p-5 rounded-3xl bg-btn-color shadow-[0_10px_40px_rgba(0,0,0,0.6)] mb-8",onClick:e=>e.stopPropagation(),children:[[{text:"المنتجات المتوفرة",active:"true"===W.hasStock,onClick:()=>{let e="true"===W.hasStock?"":"true";F(t=>({...t,hasStock:e})),H(!0,t,{...W,hasStock:e})}},{text:"منتجات تحتوي على عروض",active:"true"===W.hasOffer,onClick:()=>{let e="true"===W.hasOffer?"":"true";F(t=>({...t,hasOffer:e})),H(!0,t,{...W,hasOffer:e})}},{text:"منتجات بعدة ألوان",active:"true"===W.hasColors,onClick:()=>{let e="true"===W.hasColors?"":"true";F(t=>({...t,hasColors:e})),H(!0,t,{...W,hasColors:e})}},{text:"منتجات بها أكثر من باكت",active:"true"===W.hasPacket,onClick:()=>{let e="true"===W.hasPacket?"":"true";F(t=>({...t,hasPacket:e})),H(!0,t,{...W,hasPacket:e})}}].map((e,t)=>(0,r.jsx)(y.P.button,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileTap:{scale:.96},onClick:e.onClick,className:"w-full py-3 px-4 mt-3 rounded-full font-semibold text-sm tracking-wide transition-all duration-300 backdrop-blur-md border ".concat(e.active?"bg-[#2e1534] text-white border-transparent shadow-lg":"bg-white text-[#F06292] border-[#F06292] hover:bg-[#f0629215] hover:shadow-[0_0_8px_#F06292]"),children:e.text},t)),(0,r.jsx)(y.P.button,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileTap:{scale:.95},onClick:()=>{H(!0,t,W),I(!1)},className:"w-full py-3 mt-5 rounded-full bg-gradient-to-r from-[#6B2B7A] to-[#E25EA1] hover:from-[#813191] hover:to-[#FF69B4] text-white font-bold text-sm tracking-wide shadow-xl transition-all",children:"تفعيل الفلاتر"})]})})})]})]})}},7351:(e,t,s)=>{"use strict";s.d(t,{B:()=>a,b:()=>n});var r=s(9208);let a="https://hoorbookapp.com/",l=r.A.get("access_token_login"),n={Authorization:"Bearer ".concat(l),userType:"2",fcmToken:"fGS7RgUcR66lms505IQllc:APA91bF-AdXcn94TKHQ2eKEqTX22eQTxr6LRSwpHyzwWXjvwBFfLQ_yYWO0ZNfd9ScbxHjKBZaGLosJK2G1wfrKp6G4h3FeDfdNovPZD3PX8iV-ckfYf3ig",lang:"ar","Content-Type":"application/json"}},8068:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(5155);let a=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"ml-3 mr-3 mt-5   'lg:ml-[95px]' : 'lg:ml-[270px]'} text-white ",children:t})}},9570:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var r=s(5155),a=s(2115),l=s(5565),n=s(865),i=s(591),o=s(8068),c=s(7351),d=s(3727),h=s(8173),x=s.n(h);let u=e=>{let{id:t,name:s,description:h,image:u,category:f,price:m,discount:p,originalPrice:g,stock:v,soldOut:b=!1,love:w=!1,handellove:j=()=>{},packet_pieces:y,packet_price:A,piece_price_after_offer:N,packet_price_after_offer:k,reviews_avg:C,piece_price:S,offer:B}=e,[E,z]=(0,a.useState)(w);return(0,a.useEffect)(()=>{z(w)},[w]),(0,r.jsx)(o.A,{children:(0,r.jsxs)("div",{className:"group w-full max-w-[360px] md:w-[360px] min-h-[460px] rounded-2xl overflow-hidden shadow-lg bg-gradient-to-br from-[#e8f3f0] to-[#f8f8f8] hover:shadow-xl transition relative mx-auto",children:[(0,r.jsx)("div",{className:"absolute top-2 left-2 bg-pink-100 p-1 rounded-full cursor-pointer z-50",onClick:()=>{z(!E),j()},children:E?(0,r.jsx)(i.A,{size:18,className:"text-pink-500",fill:"#ec4899",stroke:"#ec4899"}):(0,r.jsx)(i.A,{size:18,className:"text-gray-500",fill:"none",stroke:"#6b7280"})}),(0,r.jsxs)("div",{className:"absolute inset-0 bg-[#6B2B7A]/80 flex flex-col items-center justify-center z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[(0,r.jsx)(x(),{href:"/details/".concat(t),className:"text-white font-bold text-lg mb-2",children:(0,r.jsx)(l.default,{src:d.A,alt:"Logo",width:220,height:220,className:"w-[120px] h-[120px] object-contain rounded-full mb-4",unoptimized:!0})}),(0,r.jsx)("div",{dir:"rtl",children:(0,r.jsx)(x(),{href:"/details/".concat(t),className:"text-white font-bold text-lg mb-2",children:(0,r.jsx)("button",{className:"font-bold text-lg px-6 py-2 rounded-xl bg-[#ffc94d] transition w-full",children:"عرض التفاصيل"})})})]}),(0,r.jsx)("div",{className:"relative w-full h-56",children:(0,r.jsx)(l.default,{src:"".concat(c.B).concat(u),alt:s,fill:!0,unoptimized:!0,className:"object-contain rounded-t-2xl pt-5"})}),(0,r.jsxs)("div",{className:"p-4 space-y-2 text-left",dir:"rtl",children:[f&&(0,r.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"string"==typeof f?f:f.name}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 truncate",children:s}),(0,r.jsx)("p",{className:"text-sm text-gray-600 overflow-hidden text-ellipsis whitespace-nowrap",children:h}),(e=>{let t=e?Math.floor(e):0,s=!!e&&e%1>=.5;return(0,r.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,r.jsx)(n.A,{size:16,className:a<t?"fill-yellow-400 text-yellow-400":s&&a===t?"fill-yellow-300 text-yellow-300":"text-gray-300"},a)),(0,r.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:"number"==typeof e?"(".concat(e.toFixed(1),")"):"(بدون تقييم)"})]})})(C),(0,r.jsxs)("div",{className:"flex items-center justify-end mt-2",children:[(0,r.jsx)("div",{className:"space-x-1 rtl:space-x-reverse",children:(0,r.jsx)("span",{className:"font-bold text-lg text-black",children:null===N||""==N?(0,r.jsxs)("span",{className:"text-black",dir:"rtl",children:["ج.م ",S," "]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("span",{className:"text-black ",dir:"rtl",children:[" ",N," ج.م ",(0,r.jsx)("br",{}),(0,r.jsxs)("span",{className:"text-gray-500 line-through",children:[S," ج.م"]})]})})})}),p&&(0,r.jsxs)("span",{className:"bg-pink-100 text-pink-700 px-2 py-0.5 rounded text-xs font-semibold",children:["خصم ",p,"%"]})]}),"number"==typeof v&&(0,r.jsx)("p",{className:"text-xs font-bold ".concat(0===v?"text-red-500":v<=4?"text-orange-300":"text-gray-600"),children:0===v?"نفذت الكميه ":v<=4?" متبقى  ".concat(v," قطعة اطلبه الان "):""}),Number(B)>0?(0,r.jsxs)("span",{className:"inline-block absolute left-0 bottom-0 w-[100px] h-7 rounded-md bg-pink-100 text-black text-center leading-7",children:[B,"% خصم"]}):"",b&&(0,r.jsx)("span",{className:"text-red-600 font-bold text-xl",children:"نفذت الكمية"})]})]})})}},7194:(e,t,s)=>{"use strict";s.d(t,{z:()=>l});var r=s(2651);let a=()=>null,l=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{a();let n={"Content-Type":"application/json",...l};return(await (0,r.A)({method:e,url:t,headers:n,data:s})).data}catch(e){if(r.A.isAxiosError(e)){var n,i;if(null===(n=e.response)||void 0===n?void 0:n.data)throw Error("Error: ".concat(null===(i=e.response)||void 0===i?void 0:i.status," - ").concat(JSON.stringify(e.response.data)));if(e.request)throw Error("No response received from server.")}throw Error("Unexpected error: ".concat(String(e)))}}},8205:(e,t,s)=>{"use strict";s.d(t,{M:()=>n});var r=s(7351),a=s(9827),l=s(2651);let n=(0,a.v)((e,t)=>({products:[],page:1,lastPage:1,loading:!1,hasMore:!0,searchTerm:"",hasColors:"",hasOffer:"",hasStock:"",hasPacket:"",setSearchTerm:t=>e({searchTerm:t}),fetchProducts:async function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{hasStock:"",hasColors:"",hasPacket:"",hasOffer:"",category:""},{page:i,lastPage:o,loading:c,searchTerm:d}=t();if(c||!s&&i>o)return;let h=s?1:i,x=new URLSearchParams({page:h.toString(),name:a||d,hasColors:n.hasColors||"",hasOffer:n.hasOffer||"",hasStock:n.hasStock||"",hasPacket:n.hasPacket||"",category:n.category||""});""===x.get("name")&&x.delete("name");let u="".concat(r.B,"api/products?").concat(x.toString());e({loading:!0});try{var f;let t=(await l.A.get(u,{headers:r.b})).data.data,a=t.data,n=(null===(f=t.meta)||void 0===f?void 0:f.last_page)||h;e(e=>({products:s?a:[...e.products,...a],page:h+1,lastPage:n,hasMore:h<n}))}catch(e){console.error("Fetch Error:",e)}finally{e({loading:!1})}}}))},9643:(e,t,s)=>{"use strict";s.d(t,{x:()=>c});var r=s(9827),a=s(2651),l=s(9208),n=s(5037),i=s(7351);let o=()=>{let e=l.A.get("access_token_login");return{"Content-Type":"application/json",...e&&{Authorization:"Bearer ".concat(e)}}},c=(0,r.v)(e=>({cartCount:0,setCartCount:t=>e({cartCount:t}),refreshCartCount:async()=>{if(!l.A.get("access_token_login")){e({cartCount:0});return}try{let t=(await a.A.get("".concat(i.B,"api/carts"),{headers:o()})).data.data.data.data.length;e({cartCount:t})}catch(t){console.error("❌ فشل في جلب عدد السلة:",t),n.Ay.error("❌ فشل جلب عدد السلة"),e({cartCount:0})}}}))},3727:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r={src:"/_next/static/media/حورلوجو-1.39f26f0b.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAWlBMVEVMaXHqqHCVZZu1Zk2sk6zXs6jGt9rSxOLIrM6Uap2Vc6bNudDMdDWPYaanga2qi7Dlp3Ghf7WIXKTQvtOZfKKbg6bSjVeNWZe9fmzmrH3koWrssYTKu9rIttWFTWsOAAAAHnRSTlMAOHLsGiSaBQuKu6T9rn5WkibGU3GQ3bzLp71gU7G611WfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVR4nAXBhQHAIBAAsUMfh7rvv2YTCMG5SSBEXcysQepRTI1gW9/P1IT3897nvKCuR7m+WtS4x5aiBUSCwA9YNQKB2rMAEwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}}},e=>{var t=t=>e(e.s=t);e.O(0,[5037,7442,6645,8441,1517,7358],()=>t(3889)),_N_E=e.O()}]);